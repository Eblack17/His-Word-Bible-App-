{"ast":null,"code":"'use strict';\n\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport NativeReanimatedModule from \"./NativeReanimated\";\nimport { isWorkletFunction } from \"./commonTypes.js\";\nimport { shouldBeUseWeb } from \"./PlatformChecker.js\";\nimport { ReanimatedError, registerWorkletStackDetails } from \"./errors.js\";\nimport { jsVersion } from \"./platform-specific/jsVersion.js\";\nimport { shareableMappingCache, shareableMappingFlag } from \"./shareableMappingCache.js\";\nimport { logger } from \"./logger/index.js\";\nvar SHOULD_BE_USE_WEB = shouldBeUseWeb();\nvar MAGIC_KEY = 'REANIMATED_MAGIC_KEY';\nvar _worklet_9511263490642_init_data = {\n  code: \"function isHostObject(value) {\\n  const {\\n    MAGIC_KEY\\n  } = this._closure;\\n  return MAGIC_KEY in value;\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"isHostObject\\\",\\\"value\\\",\\\"MAGIC_KEY\\\",\\\"_closure\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AAgBA,SAAAA,YAASA,CAAaC,KAAA,EAAK;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAOzB,OAAOD,SAAS,IAAID,KAAK;AAC3B\\\",\\\"ignoreList\\\":[]}\"\n};\nvar isHostObject = function () {\n  var _e = [new global.Error(), -2, -27];\n  var _f = function _f(value) {\n    return MAGIC_KEY in value;\n  };\n  _f._closure = {\n    MAGIC_KEY: MAGIC_KEY\n  };\n  _f.__initData = _worklet_9511263490642_init_data;\n  _f.__workletHash = 9511263490642;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nfunction isPlainJSObject(object) {\n  return Object.getPrototypeOf(object) === Object.prototype;\n}\nvar _worklet_6403423877018_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    ReanimatedError\\n  } = this._closure;\\n  return new Proxy({}, {\\n    get: function (_, prop) {\\n      if (prop === '_isReanimatedSharedValue' || prop === '__remoteFunction') {\\n        return false;\\n      }\\n      throw new ReanimatedError(\\\"Trying to access property `\\\" + String(prop) + \\\"` of an object which cannot be sent to the UI runtime.\\\");\\n    },\\n    set: function () {\\n      throw new ReanimatedError('Trying to write to an object which cannot be sent to the UI runtime.');\\n    }\\n  });\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"ReanimatedError\\\",\\\"_closure\\\",\\\"Proxy\\\",\\\"get\\\",\\\"_\\\",\\\"prop\\\",\\\"String\\\",\\\"set\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AAqCU,SAAAA,SAAMA,CAAA;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAGZ,OAAO,IAAIC,KAAK,CAAC,CAAC,CAAC,EAAE;IACnBC,GAAG,EAAE,SAAAA,CAACC,CAAC,EAAEC,IAAI,EAAK;MAChB,IAAIA,IAAI,KAAK,0BAA0B,IAAIA,IAAI,KAAK,kBAAkB,EAAE;QAStE,OAAO,KAAK;MACd;MACA,MAAM,IAAIL,eAAe,iCAAgCM,MAAM,CAACD,IAAI,CAAC,2DAAyD,CAAC;IACjI,CAAC;IACDE,GAAG,EAAE,SAAAA,CAAA,EAAM;MACT,MAAM,IAAIP,eAAe,CAAC,sEAAsE,CAAC;IACnG;EACF,CAAC,CAAC;AACJ\\\",\\\"ignoreList\\\":[]}\"\n};\nvar INACCESSIBLE_OBJECT = {\n  __init: function () {\n    var _e = [new global.Error(), -2, -27];\n    var _f = function _f() {\n      return new Proxy({}, {\n        get: function get(_, prop) {\n          if (prop === '_isReanimatedSharedValue' || prop === '__remoteFunction') {\n            return false;\n          }\n          throw new ReanimatedError(`Trying to access property \\`${String(prop)}\\` of an object which cannot be sent to the UI runtime.`);\n        },\n        set: function set() {\n          throw new ReanimatedError('Trying to write to an object which cannot be sent to the UI runtime.');\n        }\n      });\n    };\n    _f._closure = {\n      ReanimatedError: ReanimatedError\n    };\n    _f.__initData = _worklet_6403423877018_init_data;\n    _f.__workletHash = 6403423877018;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }()\n};\nvar VALID_ARRAY_VIEWS_NAMES = ['Int8Array', 'Uint8Array', 'Uint8ClampedArray', 'Int16Array', 'Uint16Array', 'Int32Array', 'Uint32Array', 'Float32Array', 'Float64Array', 'BigInt64Array', 'BigUint64Array', 'DataView'];\nvar DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD = 30;\nvar processedObjectAtThresholdDepth;\nvar _worklet_15831522092520_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    workletContextObjectFactory\\n  } = this._closure;\\n  return workletContextObjectFactory();\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"workletContextObjectFactory\\\",\\\"_closure\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AA+GkB,SAAAA,SAAMA,CAAA;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAGZ,OAAOD,2BAA2B,CAAC,CAAC;AACtC\\\",\\\"ignoreList\\\":[]}\"\n};\nvar _worklet_2699538872963_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    pattern,\\n    flags\\n  } = this._closure;\\n  return new RegExp(pattern, flags);\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"pattern\\\",\\\"flags\\\",\\\"_closure\\\",\\\"RegExp\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AA4JkB,SAAAA,SAAMA,CAAA;EAAA;IAAAC,OAAA;IAAAC;EAAA,SAAAC,QAAA;EAGZ,OAAO,IAAIC,MAAM,CAACH,OAAO,EAAEC,KAAK,CAAC;AACnC\\\",\\\"ignoreList\\\":[]}\"\n};\nvar _worklet_14458288935805_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    name,\\n    message,\\n    stack\\n  } = this._closure;\\n  const error = new Error();\\n  error.name = name;\\n  error.message = message;\\n  error.stack = stack;\\n  return error;\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"name\\\",\\\"message\\\",\\\"stack\\\",\\\"_closure\\\",\\\"error\\\",\\\"Error\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AA2KkB,SAAAA,SAAMA,CAAA;EAAA;IAAAC,IAAA;IAAAC,OAAA;IAAAC;EAAA,SAAAC,QAAA;EAIZ,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAAC,CAAC;EACzBD,KAAK,CAACJ,IAAI,GAAGA,IAAI;EACjBI,KAAK,CAACH,OAAO,GAAGA,OAAO;EACvBG,KAAK,CAACF,KAAK,GAAGA,KAAK;EACnB,OAAOE,KAAK;AACd\\\",\\\"ignoreList\\\":[]}\"\n};\nvar _worklet_13946110936805_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    VALID_ARRAY_VIEWS_NAMES,\\n    typeName,\\n    ReanimatedError,\\n    buffer\\n  } = this._closure;\\n  if (!VALID_ARRAY_VIEWS_NAMES.includes(typeName)) {\\n    throw new ReanimatedError(\\\"Invalid array view name `\\\" + typeName + \\\"`.\\\");\\n  }\\n  const constructor = global[typeName];\\n  if (constructor === undefined) {\\n    throw new ReanimatedError(\\\"Constructor for `\\\" + typeName + \\\"` not found.\\\");\\n  }\\n  return new constructor(buffer);\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"VALID_ARRAY_VIEWS_NAMES\\\",\\\"typeName\\\",\\\"ReanimatedError\\\",\\\"buffer\\\",\\\"_closure\\\",\\\"includes\\\",\\\"constructor\\\",\\\"global\\\",\\\"undefined\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AA+LkB,SAAAA,SAAMA,CAAA;EAAA;IAAAC,uBAAA;IAAAC,QAAA;IAAAC,eAAA;IAAAC;EAAA,SAAAC,QAAA;EAGZ,IAAI,CAACJ,uBAAuB,CAACK,QAAQ,CAACJ,QAAQ,CAAC,EAAE;IAC/C,MAAM,IAAIC,eAAe,+BAA8BD,QAAQ,OAAK,CAAC;EACvE;EACA,MAAMK,WAAW,GAAGC,MAAM,CAACN,QAAQ,CAAC;EACpC,IAAIK,WAAW,KAAKE,SAAS,EAAE;IAC7B,MAAM,IAAIN,eAAe,uBAAsBD,QAAQ,iBAAe,CAAC;EACzE;EACA,OAAO,IAAIK,WAAW,CAACH,MAAM,CAAC;AAChC\\\",\\\"ignoreList\\\":[]}\"\n};\nexport function makeShareableCloneRecursive(value) {\n  var shouldPersistRemote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  if (SHOULD_BE_USE_WEB) {\n    return value;\n  }\n  if (depth >= DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n    if (depth === DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n      processedObjectAtThresholdDepth = value;\n    } else if (value === processedObjectAtThresholdDepth) {\n      throw new ReanimatedError('Trying to convert a cyclic object to a shareable. This is not supported.');\n    }\n  } else {\n    processedObjectAtThresholdDepth = undefined;\n  }\n  var type = typeof value;\n  var isTypeObject = type === 'object';\n  var isTypeFunction = type === 'function';\n  if ((isTypeObject || isTypeFunction) && value !== null) {\n    var cached = shareableMappingCache.get(value);\n    if (cached === shareableMappingFlag) {\n      return value;\n    } else if (cached !== undefined) {\n      return cached;\n    } else {\n      var toAdapt;\n      if (Array.isArray(value)) {\n        toAdapt = value.map(function (element) {\n          return makeShareableCloneRecursive(element, shouldPersistRemote, depth + 1);\n        });\n        freezeObjectIfDev(value);\n      } else if (isTypeFunction && !isWorkletFunction(value)) {\n        toAdapt = value;\n        freezeObjectIfDev(value);\n      } else if (isHostObject(value)) {\n        toAdapt = value;\n      } else if (isPlainJSObject(value) && value.__workletContextObjectFactory) {\n        var workletContextObjectFactory = value.__workletContextObjectFactory;\n        var handle = makeShareableCloneRecursive({\n          __init: function () {\n            var _e = [new global.Error(), -2, -27];\n            var _f = function _f() {\n              return workletContextObjectFactory();\n            };\n            _f._closure = {\n              workletContextObjectFactory: workletContextObjectFactory\n            };\n            _f.__initData = _worklet_15831522092520_init_data;\n            _f.__workletHash = 15831522092520;\n            _f.__stackDetails = _e;\n            _f.__version = \"3.3.0\";\n            return _f;\n          }()\n        });\n        shareableMappingCache.set(value, handle);\n        return handle;\n      } else if (isPlainJSObject(value) || isTypeFunction) {\n        toAdapt = {};\n        if (isWorkletFunction(value)) {\n          if (__DEV__) {\n            var babelVersion = value.__initData.version;\n            if (babelVersion !== undefined && babelVersion !== jsVersion) {\n              throw new ReanimatedError(`Mismatch between JavaScript code version and Reanimated Babel plugin version (${jsVersion} vs. ${babelVersion}).        \nSee \\`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#mismatch-between-javascript-code-version-and-reanimated-babel-plugin-version\\` for more details.\nOffending code was: \\`${getWorkletCode(value)}\\``);\n            }\n            registerWorkletStackDetails(value.__workletHash, value.__stackDetails);\n          }\n          if (value.__stackDetails) {\n            delete value.__stackDetails;\n          }\n          toAdapt.__initData = makeShareableCloneRecursive(value.__initData, true, depth + 1);\n        }\n        for (var _ref of Object.entries(value)) {\n          var _ref2 = _slicedToArray(_ref, 2);\n          var key = _ref2[0];\n          var element = _ref2[1];\n          if (key === '__initData' && toAdapt.__initData !== undefined) {\n            continue;\n          }\n          toAdapt[key] = makeShareableCloneRecursive(element, shouldPersistRemote, depth + 1);\n        }\n        freezeObjectIfDev(value);\n      } else if (value instanceof RegExp) {\n        var pattern = value.source;\n        var flags = value.flags;\n        var _handle = makeShareableCloneRecursive({\n          __init: function () {\n            var _e = [new global.Error(), -3, -27];\n            var _f = function _f() {\n              return new RegExp(pattern, flags);\n            };\n            _f._closure = {\n              pattern: pattern,\n              flags: flags\n            };\n            _f.__initData = _worklet_2699538872963_init_data;\n            _f.__workletHash = 2699538872963;\n            _f.__stackDetails = _e;\n            _f.__version = \"3.3.0\";\n            return _f;\n          }()\n        });\n        shareableMappingCache.set(value, _handle);\n        return _handle;\n      } else if (value instanceof Error) {\n        var name = value.name,\n          message = value.message,\n          stack = value.stack;\n        var _handle2 = makeShareableCloneRecursive({\n          __init: function () {\n            var _e = [new global.Error(), -4, -27];\n            var _f = function _f() {\n              var error = new Error();\n              error.name = name;\n              error.message = message;\n              error.stack = stack;\n              return error;\n            };\n            _f._closure = {\n              name: name,\n              message: message,\n              stack: stack\n            };\n            _f.__initData = _worklet_14458288935805_init_data;\n            _f.__workletHash = 14458288935805;\n            _f.__stackDetails = _e;\n            _f.__version = \"3.3.0\";\n            return _f;\n          }()\n        });\n        shareableMappingCache.set(value, _handle2);\n        return _handle2;\n      } else if (value instanceof ArrayBuffer) {\n        toAdapt = value;\n      } else if (ArrayBuffer.isView(value)) {\n        var buffer = value.buffer;\n        var typeName = value.constructor.name;\n        var _handle3 = makeShareableCloneRecursive({\n          __init: function () {\n            var _e = [new global.Error(), -5, -27];\n            var _f = function _f() {\n              if (!VALID_ARRAY_VIEWS_NAMES.includes(typeName)) {\n                throw new ReanimatedError(`Invalid array view name \\`${typeName}\\`.`);\n              }\n              var constructor = global[typeName];\n              if (constructor === undefined) {\n                throw new ReanimatedError(`Constructor for \\`${typeName}\\` not found.`);\n              }\n              return new constructor(buffer);\n            };\n            _f._closure = {\n              VALID_ARRAY_VIEWS_NAMES: VALID_ARRAY_VIEWS_NAMES,\n              typeName: typeName,\n              ReanimatedError: ReanimatedError,\n              buffer: buffer\n            };\n            _f.__initData = _worklet_13946110936805_init_data;\n            _f.__workletHash = 13946110936805;\n            _f.__stackDetails = _e;\n            _f.__version = \"3.3.0\";\n            return _f;\n          }()\n        });\n        shareableMappingCache.set(value, _handle3);\n        return _handle3;\n      } else {\n        var inaccessibleObject = makeShareableCloneRecursive(INACCESSIBLE_OBJECT);\n        shareableMappingCache.set(value, inaccessibleObject);\n        return inaccessibleObject;\n      }\n      var adapted = NativeReanimatedModule.makeShareableClone(toAdapt, shouldPersistRemote, value);\n      shareableMappingCache.set(value, adapted);\n      shareableMappingCache.set(adapted);\n      return adapted;\n    }\n  }\n  return NativeReanimatedModule.makeShareableClone(value, shouldPersistRemote, undefined);\n}\nvar WORKLET_CODE_THRESHOLD = 255;\nfunction getWorkletCode(value) {\n  var _value$__initData;\n  var code = value == null ? void 0 : (_value$__initData = value.__initData) == null ? void 0 : _value$__initData.code;\n  if (!code) {\n    return 'unknown';\n  }\n  if (code.length > WORKLET_CODE_THRESHOLD) {\n    return `${code.substring(0, WORKLET_CODE_THRESHOLD)}...`;\n  }\n  return code;\n}\nvar _worklet_13881214786631_init_data = {\n  code: \"function isRemoteFunction(value) {\\n  return !!value.__remoteFunction;\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"isRemoteFunction\\\",\\\"value\\\",\\\"__remoteFunction\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AA+OA,SAAAA,gBAASA,CAAiBC,KAAA,EAAK;EAG7B,OAAO,CAAC,CAACA,KAAK,CAACC,gBAAgB;AACjC\\\",\\\"ignoreList\\\":[]}\"\n};\nvar isRemoteFunction = function () {\n  var _e = [new global.Error(), 1, -27];\n  var _f = function _f(value) {\n    return !!value.__remoteFunction;\n  };\n  _f._closure = {};\n  _f.__initData = _worklet_13881214786631_init_data;\n  _f.__workletHash = 13881214786631;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nfunction freezeObjectIfDev(value) {\n  if (!__DEV__) {\n    return;\n  }\n  Object.entries(value).forEach(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n      key = _ref4[0],\n      element = _ref4[1];\n    var descriptor = Object.getOwnPropertyDescriptor(value, key);\n    if (!descriptor.configurable) {\n      return;\n    }\n    Object.defineProperty(value, key, {\n      get: function get() {\n        return element;\n      },\n      set: function set() {\n        logger.warn(`Tried to modify key \\`${key}\\` of an object which has been already passed to a worklet. See \nhttps://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#tried-to-modify-key-of-an-object-which-has-been-converted-to-a-shareable \nfor more details.`);\n      }\n    });\n  });\n  Object.preventExtensions(value);\n}\nvar _worklet_5420228539595_init_data = {\n  code: \"function makeShareableCloneOnUIRecursive(value) {\\n  const {\\n    SHOULD_BE_USE_WEB,\\n    isHostObject,\\n    isRemoteFunction\\n  } = this._closure;\\n  if (SHOULD_BE_USE_WEB) {\\n    return value;\\n  }\\n  function cloneRecursive(value) {\\n    if (typeof value === 'object' && value !== null || typeof value === 'function') {\\n      if (isHostObject(value)) {\\n        return global._makeShareableClone(value, undefined);\\n      }\\n      if (isRemoteFunction(value)) {\\n        return value.__remoteFunction;\\n      }\\n      if (Array.isArray(value)) {\\n        return global._makeShareableClone(value.map(cloneRecursive), undefined);\\n      }\\n      const toAdapt = {};\\n      for (const [key, element] of Object.entries(value)) {\\n        toAdapt[key] = cloneRecursive(element);\\n      }\\n      return global._makeShareableClone(toAdapt, value);\\n    }\\n    return global._makeShareableClone(value, undefined);\\n  }\\n  return cloneRecursive(value);\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"makeShareableCloneOnUIRecursive\\\",\\\"value\\\",\\\"SHOULD_BE_USE_WEB\\\",\\\"isHostObject\\\",\\\"isRemoteFunction\\\",\\\"_closure\\\",\\\"cloneRecursive\\\",\\\"global\\\",\\\"_makeShareableClone\\\",\\\"undefined\\\",\\\"__remoteFunction\\\",\\\"Array\\\",\\\"isArray\\\",\\\"map\\\",\\\"toAdapt\\\",\\\"key\\\",\\\"element\\\",\\\"Object\\\",\\\"entries\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AAyRO,SAAAA,+BAASA,CAAgCC,KAAA,EAAK;EAAA;IAAAC,iBAAA;IAAAC,YAAA;IAAAC;EAAA,SAAAC,QAAA;EAGnD,IAAIH,iBAAiB,EAAE;IAGrB,OAAOD,KAAK;EACd;EAEA,SAASK,cAAcA,CAACL,KAAK,EAAE;IAC7B,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI,IAAI,OAAOA,KAAK,KAAK,UAAU,EAAE;MAC9E,IAAIE,YAAY,CAACF,KAAK,CAAC,EAAE;QAGvB,OAAOM,MAAM,CAACC,mBAAmB,CAACP,KAAK,EAAEQ,SAAS,CAAC;MACrD;MACA,IAAIL,gBAAgB,CAACH,KAAK,CAAC,EAAE;QAI3B,OAAOA,KAAK,CAACS,gBAAgB;MAC/B;MACA,IAAIC,KAAK,CAACC,OAAO,CAACX,KAAK,CAAC,EAAE;QACxB,OAAOM,MAAM,CAACC,mBAAmB,CAACP,KAAK,CAACY,GAAG,CAACP,cAAc,CAAC,EAAEG,SAAS,CAAC;MACzE;MACA,MAAMK,OAAO,GAAG,CAAC,CAAC;MAClB,KAAK,MAAM,CAACC,GAAG,EAAEC,OAAO,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACjB,KAAK,CAAC,EAAE;QAClDa,OAAO,CAACC,GAAG,CAAC,GAAGT,cAAc,CAACU,OAAO,CAAC;MACxC;MACA,OAAOT,MAAM,CAACC,mBAAmB,CAACM,OAAO,EAAEb,KAAK,CAAC;IACnD;IACA,OAAOM,MAAM,CAACC,mBAAmB,CAACP,KAAK,EAAEQ,SAAS,CAAC;EACrD;EACA,OAAOH,cAAc,CAACL,KAAK,CAAC;AAC9B\\\",\\\"ignoreList\\\":[]}\"\n};\nexport var makeShareableCloneOnUIRecursive = function () {\n  var _e = [new global.Error(), -4, -27];\n  var _f = function _f(value) {\n    if (SHOULD_BE_USE_WEB) {\n      return value;\n    }\n    function cloneRecursive(value) {\n      if (typeof value === 'object' && value !== null || typeof value === 'function') {\n        if (isHostObject(value)) {\n          return global._makeShareableClone(value, undefined);\n        }\n        if (isRemoteFunction(value)) {\n          return value.__remoteFunction;\n        }\n        if (Array.isArray(value)) {\n          return global._makeShareableClone(value.map(cloneRecursive), undefined);\n        }\n        var toAdapt = {};\n        for (var _ref5 of Object.entries(value)) {\n          var _ref6 = _slicedToArray(_ref5, 2);\n          var key = _ref6[0];\n          var element = _ref6[1];\n          toAdapt[key] = cloneRecursive(element);\n        }\n        return global._makeShareableClone(toAdapt, value);\n      }\n      return global._makeShareableClone(value, undefined);\n    }\n    return cloneRecursive(value);\n  };\n  _f._closure = {\n    SHOULD_BE_USE_WEB: SHOULD_BE_USE_WEB,\n    isHostObject: isHostObject,\n    isRemoteFunction: isRemoteFunction\n  };\n  _f.__initData = _worklet_5420228539595_init_data;\n  _f.__workletHash = 5420228539595;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nfunction makeShareableJS(value) {\n  return value;\n}\nvar _worklet_13878384066121_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    value\\n  } = this._closure;\\n  return value;\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\shareables.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"value\\\",\\\"_closure\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/shareables.js\\\"],\\\"mappings\\\":\\\"AAoUY,SAAAA,SAAMA,CAAA;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAGZ,OAAOD,KAAK;AACd\\\",\\\"ignoreList\\\":[]}\"\n};\nfunction makeShareableNative(value) {\n  if (shareableMappingCache.get(value)) {\n    return value;\n  }\n  var handle = makeShareableCloneRecursive({\n    __init: function () {\n      var _e = [new global.Error(), -2, -27];\n      var _f = function _f() {\n        return value;\n      };\n      _f._closure = {\n        value: value\n      };\n      _f.__initData = _worklet_13878384066121_init_data;\n      _f.__workletHash = 13878384066121;\n      _f.__stackDetails = _e;\n      _f.__version = \"3.3.0\";\n      return _f;\n    }()\n  });\n  shareableMappingCache.set(value, handle);\n  return value;\n}\nexport var makeShareable = SHOULD_BE_USE_WEB ? makeShareableJS : makeShareableNative;","map":{"version":3,"names":["_slicedToArray","NativeReanimatedModule","isWorkletFunction","shouldBeUseWeb","ReanimatedError","registerWorkletStackDetails","jsVersion","shareableMappingCache","shareableMappingFlag","logger","SHOULD_BE_USE_WEB","MAGIC_KEY","_worklet_9511263490642_init_data","code","location","sourceMap","isHostObject","_e","global","Error","_f","value","_closure","__initData","__workletHash","__stackDetails","__version","isPlainJSObject","object","Object","getPrototypeOf","prototype","_worklet_6403423877018_init_data","INACCESSIBLE_OBJECT","__init","Proxy","get","_","prop","String","set","VALID_ARRAY_VIEWS_NAMES","DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD","processedObjectAtThresholdDepth","_worklet_15831522092520_init_data","_worklet_2699538872963_init_data","_worklet_14458288935805_init_data","_worklet_13946110936805_init_data","makeShareableCloneRecursive","shouldPersistRemote","arguments","length","undefined","depth","type","isTypeObject","isTypeFunction","cached","toAdapt","Array","isArray","map","element","freezeObjectIfDev","__workletContextObjectFactory","workletContextObjectFactory","handle","__DEV__","babelVersion","version","getWorkletCode","_ref","entries","_ref2","key","RegExp","pattern","source","flags","name","message","stack","error","ArrayBuffer","isView","buffer","typeName","constructor","includes","inaccessibleObject","adapted","makeShareableClone","WORKLET_CODE_THRESHOLD","_value$__initData","substring","_worklet_13881214786631_init_data","isRemoteFunction","__remoteFunction","forEach","_ref3","_ref4","descriptor","getOwnPropertyDescriptor","configurable","defineProperty","warn","preventExtensions","_worklet_5420228539595_init_data","makeShareableCloneOnUIRecursive","cloneRecursive","_makeShareableClone","_ref5","_ref6","makeShareableJS","_worklet_13878384066121_init_data","makeShareableNative","makeShareable"],"sources":["d:\\CODING\\random\\12-13\\node_modules\\react-native-reanimated\\src\\shareables.ts"],"sourcesContent":["'use strict';\nimport NativeReanimatedModule from './NativeReanimated';\nimport { isWorkletFunction } from './commonTypes';\nimport type {\n  ShareableRef,\n  FlatShareableRef,\n  WorkletFunction,\n} from './commonTypes';\nimport { shouldBeUseWeb } from './PlatformChecker';\nimport { ReanimatedError, registerWorkletStackDetails } from './errors';\nimport { jsVersion } from './platform-specific/jsVersion';\nimport {\n  shareableMappingCache,\n  shareableMappingFlag,\n} from './shareableMappingCache';\nimport { logger } from './logger';\n\n// for web/chrome debugger/jest environments this file provides a stub implementation\n// where no shareable references are used. Instead, the objects themselves are used\n// instead of shareable references, because of the fact that we don't have to deal with\n// running the code on separate VMs.\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nconst MAGIC_KEY = 'REANIMATED_MAGIC_KEY';\n\nfunction isHostObject(value: NonNullable<object>) {\n  'worklet';\n  // We could use JSI to determine whether an object is a host object, however\n  // the below workaround works well and is way faster than an additional JSI call.\n  // We use the fact that host objects have broken implementation of `hasOwnProperty`\n  // and hence return true for all `in` checks regardless of the key we ask for.\n  return MAGIC_KEY in value;\n}\n\nfunction isPlainJSObject(object: object) {\n  return Object.getPrototypeOf(object) === Object.prototype;\n}\n\n// The below object is used as a replacement for objects that cannot be transferred\n// as shareable values. In makeShareableCloneRecursive we detect if an object is of\n// a plain Object.prototype and only allow such objects to be transferred. This lets\n// us avoid all sorts of react internals from leaking into the UI runtime. To make it\n// possible to catch errors when someone actually tries to access such object on the UI\n// runtime, we use the below Proxy object which is instantiated on the UI runtime and\n// throws whenever someone tries to access its fields.\nconst INACCESSIBLE_OBJECT = {\n  __init: () => {\n    'worklet';\n    return new Proxy(\n      {},\n      {\n        get: (_: unknown, prop: string | symbol) => {\n          if (\n            prop === '_isReanimatedSharedValue' ||\n            prop === '__remoteFunction'\n          ) {\n            // not very happy about this check here, but we need to allow for\n            // \"inaccessible\" objects to be tested with isSharedValue check\n            // as it is being used in the mappers when extracting inputs recursively\n            // as well as with isRemoteFunction when cloning objects recursively.\n            // Apparently we can't check if a key exists there as HostObjects always\n            // return true for such tests, so the only possibility for us is to\n            // actually access that key and see if it is set to true. We therefore\n            // need to allow for this key to be accessed here.\n            return false;\n          }\n          throw new ReanimatedError(\n            `Trying to access property \\`${String(\n              prop\n            )}\\` of an object which cannot be sent to the UI runtime.`\n          );\n        },\n        set: () => {\n          throw new ReanimatedError(\n            'Trying to write to an object which cannot be sent to the UI runtime.'\n          );\n        },\n      }\n    );\n  },\n};\n\nconst VALID_ARRAY_VIEWS_NAMES = [\n  'Int8Array',\n  'Uint8Array',\n  'Uint8ClampedArray',\n  'Int16Array',\n  'Uint16Array',\n  'Int32Array',\n  'Uint32Array',\n  'Float32Array',\n  'Float64Array',\n  'BigInt64Array',\n  'BigUint64Array',\n  'DataView',\n];\n\nconst DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD = 30;\n// Below variable stores object that we process in makeShareableCloneRecursive at the specified depth.\n// We use it to check if later on the function reenters with the same object\nlet processedObjectAtThresholdDepth: unknown;\n\nexport function makeShareableCloneRecursive<T>(\n  value: any,\n  shouldPersistRemote = false,\n  depth = 0\n): ShareableRef<T> {\n  if (SHOULD_BE_USE_WEB) {\n    return value;\n  }\n  if (depth >= DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n    // if we reach certain recursion depth we suspect that we are dealing with a cyclic object.\n    // this type of objects are not supported and cannot be transferred as shareable, so we\n    // implement a simple detection mechanism that remembers the value at a given depth and\n    // tests whether we try reenter this method later on with the same value. If that happens\n    // we throw an appropriate error.\n    if (depth === DETECT_CYCLIC_OBJECT_DEPTH_THRESHOLD) {\n      processedObjectAtThresholdDepth = value;\n    } else if (value === processedObjectAtThresholdDepth) {\n      throw new ReanimatedError(\n        'Trying to convert a cyclic object to a shareable. This is not supported.'\n      );\n    }\n  } else {\n    processedObjectAtThresholdDepth = undefined;\n  }\n  // This one actually may be worth to be moved to c++, we also need similar logic to run on the UI thread\n  const type = typeof value;\n  const isTypeObject = type === 'object';\n  const isTypeFunction = type === 'function';\n  if ((isTypeObject || isTypeFunction) && value !== null) {\n    const cached = shareableMappingCache.get(value);\n    if (cached === shareableMappingFlag) {\n      return value;\n    } else if (cached !== undefined) {\n      return cached as ShareableRef<T>;\n    } else {\n      let toAdapt: any;\n      if (Array.isArray(value)) {\n        toAdapt = value.map((element) =>\n          makeShareableCloneRecursive(element, shouldPersistRemote, depth + 1)\n        );\n        freezeObjectIfDev(value);\n      } else if (isTypeFunction && !isWorkletFunction(value)) {\n        // this is a remote function\n        toAdapt = value;\n        freezeObjectIfDev(value);\n      } else if (isHostObject(value)) {\n        // for host objects we pass the reference to the object as shareable and\n        // then recreate new host object wrapping the same instance on the UI thread.\n        // there is no point of iterating over keys as we do for regular objects.\n        toAdapt = value;\n      } else if (\n        isPlainJSObject(value) &&\n        value.__workletContextObjectFactory\n      ) {\n        const workletContextObjectFactory = value.__workletContextObjectFactory;\n        const handle = makeShareableCloneRecursive({\n          __init: () => {\n            'worklet';\n            return workletContextObjectFactory();\n          },\n        });\n        shareableMappingCache.set(value, handle);\n        return handle as ShareableRef<T>;\n      } else if (isPlainJSObject(value) || isTypeFunction) {\n        toAdapt = {};\n        if (isWorkletFunction(value)) {\n          if (__DEV__) {\n            const babelVersion = value.__initData.version;\n            if (babelVersion !== undefined && babelVersion !== jsVersion) {\n              throw new ReanimatedError(`Mismatch between JavaScript code version and Reanimated Babel plugin version (${jsVersion} vs. ${babelVersion}).        \nSee \\`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#mismatch-between-javascript-code-version-and-reanimated-babel-plugin-version\\` for more details.\nOffending code was: \\`${getWorkletCode(value)}\\``);\n            }\n            registerWorkletStackDetails(\n              value.__workletHash,\n              value.__stackDetails!\n            );\n          }\n          if (value.__stackDetails) {\n            // `Error` type of value cannot be copied to the UI thread, so we\n            // remove it after we handled it in dev mode or delete it to ignore it in production mode.\n            // Not removing this would cause an infinite loop in production mode and it just\n            // seems more elegant to handle it this way.\n            delete value.__stackDetails;\n          }\n          // to save on transferring static __initData field of worklet structure\n          // we request shareable value to persist its UI counterpart. This means\n          // that the __initData field that contains long strings representing the\n          // worklet code, source map, and location, will always be\n          // serialized/deserialized once.\n          toAdapt.__initData = makeShareableCloneRecursive(\n            value.__initData,\n            true,\n            depth + 1\n          );\n        }\n\n        for (const [key, element] of Object.entries(value)) {\n          if (key === '__initData' && toAdapt.__initData !== undefined) {\n            continue;\n          }\n          toAdapt[key] = makeShareableCloneRecursive(\n            element,\n            shouldPersistRemote,\n            depth + 1\n          );\n        }\n        freezeObjectIfDev(value);\n      } else if (value instanceof RegExp) {\n        const pattern = value.source;\n        const flags = value.flags;\n        const handle = makeShareableCloneRecursive({\n          __init: () => {\n            'worklet';\n            return new RegExp(pattern, flags);\n          },\n        });\n        shareableMappingCache.set(value, handle);\n        return handle as ShareableRef<T>;\n      } else if (value instanceof Error) {\n        const { name, message, stack } = value;\n        const handle = makeShareableCloneRecursive({\n          __init: () => {\n            'worklet';\n            // eslint-disable-next-line reanimated/use-reanimated-error\n            const error = new Error();\n            error.name = name;\n            error.message = message;\n            error.stack = stack;\n            return error;\n          },\n        });\n        shareableMappingCache.set(value, handle);\n        return handle as ShareableRef<T>;\n      } else if (value instanceof ArrayBuffer) {\n        toAdapt = value;\n      } else if (ArrayBuffer.isView(value)) {\n        // typed array (e.g. Int32Array, Uint8ClampedArray) or DataView\n        const buffer = value.buffer;\n        const typeName = value.constructor.name;\n        const handle = makeShareableCloneRecursive({\n          __init: () => {\n            'worklet';\n            if (!VALID_ARRAY_VIEWS_NAMES.includes(typeName)) {\n              throw new ReanimatedError(\n                `Invalid array view name \\`${typeName}\\`.`\n              );\n            }\n            const constructor = global[typeName as keyof typeof global];\n            if (constructor === undefined) {\n              throw new ReanimatedError(\n                `Constructor for \\`${typeName}\\` not found.`\n              );\n            }\n            return new constructor(buffer);\n          },\n        });\n        shareableMappingCache.set(value, handle);\n        return handle as ShareableRef<T>;\n      } else {\n        // This is reached for object types that are not of plain Object.prototype.\n        // We don't support such objects from being transferred as shareables to\n        // the UI runtime and hence we replace them with \"inaccessible object\"\n        // which is implemented as a Proxy object that throws on any attempt\n        // of accessing its fields. We argue that such objects can sometimes leak\n        // as attributes of objects being captured by worklets but should never\n        // be used on the UI runtime regardless. If they are being accessed, the user\n        // will get an appropriate error message.\n        const inaccessibleObject =\n          makeShareableCloneRecursive<T>(INACCESSIBLE_OBJECT);\n        shareableMappingCache.set(value, inaccessibleObject);\n        return inaccessibleObject;\n      }\n      const adapted = NativeReanimatedModule.makeShareableClone(\n        toAdapt,\n        shouldPersistRemote,\n        value\n      );\n      shareableMappingCache.set(value, adapted);\n      shareableMappingCache.set(adapted);\n      return adapted;\n    }\n  }\n  return NativeReanimatedModule.makeShareableClone(\n    value,\n    shouldPersistRemote,\n    undefined\n  );\n}\n\nconst WORKLET_CODE_THRESHOLD = 255;\n\nfunction getWorkletCode(value: WorkletFunction) {\n  // @ts-ignore this is fine\n  const code = value?.__initData?.code;\n  if (!code) {\n    return 'unknown';\n  }\n  if (code.length > WORKLET_CODE_THRESHOLD) {\n    return `${code.substring(0, WORKLET_CODE_THRESHOLD)}...`;\n  }\n  return code;\n}\n\ntype RemoteFunction<T> = {\n  __remoteFunction: FlatShareableRef<T>;\n};\n\nfunction isRemoteFunction<T>(value: {\n  __remoteFunction?: unknown;\n}): value is RemoteFunction<T> {\n  'worklet';\n  return !!value.__remoteFunction;\n}\n\n/**\n * We freeze\n *\n * - Arrays,\n * - Remote functions,\n * - Plain JS objects,\n *\n * That are transformed to a shareable with a meaningful warning. This should\n * help detect issues when someone modifies data after it's been converted.\n * Meaning that they may be doing a faulty assumption in their code expecting\n * that the updates are going to automatically propagate to the object sent to\n * the UI thread. If the user really wants some objects to be mutable they\n * should use shared values instead.\n */\nfunction freezeObjectIfDev<T extends object>(value: T) {\n  if (!__DEV__) {\n    return;\n  }\n  Object.entries(value).forEach(([key, element]) => {\n    const descriptor = Object.getOwnPropertyDescriptor(value, key)!;\n    if (!descriptor.configurable) {\n      return;\n    }\n    Object.defineProperty(value, key, {\n      get() {\n        return element;\n      },\n      set() {\n        logger.warn(\n          `Tried to modify key \\`${key}\\` of an object which has been already passed to a worklet. See \nhttps://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#tried-to-modify-key-of-an-object-which-has-been-converted-to-a-shareable \nfor more details.`\n        );\n      },\n    });\n  });\n  Object.preventExtensions(value);\n}\n\nexport function makeShareableCloneOnUIRecursive<T>(\n  value: T\n): FlatShareableRef<T> {\n  'worklet';\n  if (SHOULD_BE_USE_WEB) {\n    // @ts-ignore web is an interesting place where we don't run a secondary VM on the UI thread\n    // see more details in the comment where USE_STUB_IMPLEMENTATION is defined.\n    return value;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function cloneRecursive(value: T): FlatShareableRef<T> {\n    if (\n      (typeof value === 'object' && value !== null) ||\n      typeof value === 'function'\n    ) {\n      if (isHostObject(value)) {\n        // We call `_makeShareableClone` to wrap the provided HostObject\n        // inside ShareableJSRef.\n        return global._makeShareableClone(\n          value,\n          undefined\n        ) as FlatShareableRef<T>;\n      }\n      if (isRemoteFunction<T>(value)) {\n        // RemoteFunctions are created by us therefore they are\n        // a Shareable out of the box and there is no need to\n        // call `_makeShareableClone`.\n        return value.__remoteFunction;\n      }\n      if (Array.isArray(value)) {\n        return global._makeShareableClone(\n          value.map(cloneRecursive),\n          undefined\n        ) as FlatShareableRef<T>;\n      }\n      const toAdapt: Record<string, FlatShareableRef<T>> = {};\n      for (const [key, element] of Object.entries(value)) {\n        toAdapt[key] = cloneRecursive(element);\n      }\n      return global._makeShareableClone(toAdapt, value) as FlatShareableRef<T>;\n    }\n    return global._makeShareableClone(value, undefined);\n  }\n  return cloneRecursive(value);\n}\n\nfunction makeShareableJS<T extends object>(value: T): T {\n  return value;\n}\n\nfunction makeShareableNative<T extends object>(value: T): T {\n  if (shareableMappingCache.get(value)) {\n    return value;\n  }\n  const handle = makeShareableCloneRecursive({\n    __init: () => {\n      'worklet';\n      return value;\n    },\n  });\n  shareableMappingCache.set(value, handle);\n  return value;\n}\n\n/**\n * This function creates a value on UI with persistent state - changes to it on\n * the UI thread will be seen by all worklets. Use it when you want to create a\n * value that is read and written only on the UI thread.\n */\nexport const makeShareable = SHOULD_BE_USE_WEB\n  ? makeShareableJS\n  : makeShareableNative;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}