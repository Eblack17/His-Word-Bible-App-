{"ast":null,"code":"'use strict';\n\nimport { applyStyle, applyStyleForBelowTopScreen } from \"./styleUpdater.js\";\nimport { RNScreensTurboModule } from \"./RNScreensTurboModule.js\";\nvar BASE_VELOCITY = 400;\nvar ADDITIONAL_VELOCITY_FACTOR_X = 400;\nvar ADDITIONAL_VELOCITY_FACTOR_Y = 500;\nvar ADDITIONAL_VELOCITY_FACTOR_XY = 600;\nvar _worklet_7921706114153_init_data = {\n  code: \"function computeEasingProgress(startingTimestamp, distance, velocity) {\\n  const {\\n    _getAnimationTimestamp\\n  } = this._closure;\\n  if (Math.abs(distance) < 1) {\\n    return 1;\\n  }\\n  const elapsedTime = (_getAnimationTimestamp() - startingTimestamp) / 1000;\\n  const currentPosition = velocity * elapsedTime;\\n  const progress = currentPosition / distance;\\n  return progress;\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\screenTransition\\\\swipeSimulator.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"computeEasingProgress\\\",\\\"startingTimestamp\\\",\\\"distance\\\",\\\"velocity\\\",\\\"_getAnimationTimestamp\\\",\\\"_closure\\\",\\\"Math\\\",\\\"abs\\\",\\\"elapsedTime\\\",\\\"currentPosition\\\",\\\"progress\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/screenTransition/swipeSimulator.js\\\"],\\\"mappings\\\":\\\"AAQA,SAAAA,qBAASA,CAAsBC,iBAAA,EAAiBC,QAAE,EAAQC,QAAE,EAAQ;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAGlE,IAAIC,IAAI,CAACC,GAAG,CAACL,QAAQ,CAAC,GAAG,CAAC,EAAE;IAC1B,OAAO,CAAC;EACV;EACA,MAAMM,WAAW,GAAG,CAACJ,sBAAsB,CAAC,CAAC,GAAGH,iBAAiB,IAAI,IAAI;EACzE,MAAMQ,eAAe,GAAGN,QAAQ,GAAGK,WAAW;EAC9C,MAAME,QAAQ,GAAGD,eAAe,GAAGP,QAAQ;EAC3C,OAAOQ,QAAQ;AACjB\\\",\\\"ignoreList\\\":[]}\"\n};\nvar computeEasingProgress = function () {\n  var _e = [new global.Error(), -2, -27];\n  var _f = function _f(startingTimestamp, distance, velocity) {\n    if (Math.abs(distance) < 1) {\n      return 1;\n    }\n    var elapsedTime = (_getAnimationTimestamp() - startingTimestamp) / 1000;\n    var currentPosition = velocity * elapsedTime;\n    var progress = currentPosition / distance;\n    return progress;\n  };\n  _f._closure = {\n    _getAnimationTimestamp: _getAnimationTimestamp\n  };\n  _f.__initData = _worklet_7921706114153_init_data;\n  _f.__workletHash = 7921706114153;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nvar _worklet_2951350988554_init_data = {\n  code: \"function easing(x) {\\n  return 1 - Math.pow(1 - x, 5);\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\screenTransition\\\\swipeSimulator.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"easing\\\",\\\"x\\\",\\\"Math\\\",\\\"pow\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/screenTransition/swipeSimulator.js\\\"],\\\"mappings\\\":\\\"AAmBA,SAAAA,MAASA,CAAOC,CAAC;EAIf,OAAO,CAAC,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGF,CAAC,EAAE,CAAC,CAAC;AAC/B\\\",\\\"ignoreList\\\":[]}\"\n};\nvar easing = function () {\n  var _e = [new global.Error(), 1, -27];\n  var _f = function _f(x) {\n    return 1 - Math.pow(1 - x, 5);\n  };\n  _f._closure = {};\n  _f.__initData = _worklet_2951350988554_init_data;\n  _f.__workletHash = 2951350988554;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nvar _worklet_2265195432510_init_data = {\n  code: \"function computeProgress(screenTransitionConfig, event, isTransitionCanceled) {\\n  const screenDimensions = screenTransitionConfig.screenDimensions;\\n  const progressX = Math.abs(event.translationX / screenDimensions.width);\\n  const progressY = Math.abs(event.translationY / screenDimensions.height);\\n  const maxProgress = Math.max(progressX, progressY);\\n  const progress = isTransitionCanceled ? maxProgress / 2 : maxProgress;\\n  return progress;\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\screenTransition\\\\swipeSimulator.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"computeProgress\\\",\\\"screenTransitionConfig\\\",\\\"event\\\",\\\"isTransitionCanceled\\\",\\\"screenDimensions\\\",\\\"progressX\\\",\\\"Math\\\",\\\"abs\\\",\\\"translationX\\\",\\\"width\\\",\\\"progressY\\\",\\\"translationY\\\",\\\"height\\\",\\\"maxProgress\\\",\\\"max\\\",\\\"progress\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/screenTransition/swipeSimulator.js\\\"],\\\"mappings\\\":\\\"AAyBA,SAAAA,eAASA,CAAgBC,sBAAA,EAAsBC,KAAE,EAAKC,oBAAE,EAAoB;EAG1E,MAAMC,gBAAgB,GAAGH,sBAAsB,CAACG,gBAAgB;EAChE,MAAMC,SAAS,GAAGC,IAAI,CAACC,GAAG,CAACL,KAAK,CAACM,YAAY,GAAGJ,gBAAgB,CAACK,KAAK,CAAC;EACvE,MAAMC,SAAS,GAAGJ,IAAI,CAACC,GAAG,CAACL,KAAK,CAACS,YAAY,GAAGP,gBAAgB,CAACQ,MAAM,CAAC;EACxE,MAAMC,WAAW,GAAGP,IAAI,CAACQ,GAAG,CAACT,SAAS,EAAEK,SAAS,CAAC;EAClD,MAAMK,QAAQ,GAAGZ,oBAAoB,GAAGU,WAAW,GAAG,CAAC,GAAGA,WAAW;EACrE,OAAOE,QAAQ;AACjB\\\",\\\"ignoreList\\\":[]}\"\n};\nvar computeProgress = function () {\n  var _e = [new global.Error(), 1, -27];\n  var _f = function _f(screenTransitionConfig, event, isTransitionCanceled) {\n    var screenDimensions = screenTransitionConfig.screenDimensions;\n    var progressX = Math.abs(event.translationX / screenDimensions.width);\n    var progressY = Math.abs(event.translationY / screenDimensions.height);\n    var maxProgress = Math.max(progressX, progressY);\n    var progress = isTransitionCanceled ? maxProgress / 2 : maxProgress;\n    return progress;\n  };\n  _f._closure = {};\n  _f.__initData = _worklet_2265195432510_init_data;\n  _f.__workletHash = 2265195432510;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nvar _worklet_1546965636652_init_data = {\n  code: \"function maybeScheduleNextFrame(step, didScreenReachDestination, screenTransitionConfig, event, isTransitionCanceled) {\\n  const {\\n    computeProgress,\\n    RNScreensTurboModule\\n  } = this._closure;\\n  if (!didScreenReachDestination) {\\n    const stackTag = screenTransitionConfig.stackTag;\\n    const progress = computeProgress(screenTransitionConfig, event, isTransitionCanceled);\\n    RNScreensTurboModule.updateTransition(stackTag, progress);\\n    requestAnimationFrame(step);\\n  } else {\\n    var _screenTransitionConf;\\n    (_screenTransitionConf = screenTransitionConfig.onFinishAnimation) === null || _screenTransitionConf === void 0 ? void 0 : _screenTransitionConf.call(screenTransitionConfig);\\n  }\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\screenTransition\\\\swipeSimulator.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"maybeScheduleNextFrame\\\",\\\"step\\\",\\\"didScreenReachDestination\\\",\\\"screenTransitionConfig\\\",\\\"event\\\",\\\"isTransitionCanceled\\\",\\\"computeProgress\\\",\\\"RNScreensTurboModule\\\",\\\"_closure\\\",\\\"stackTag\\\",\\\"progress\\\",\\\"updateTransition\\\",\\\"requestAnimationFrame\\\",\\\"_screenTransitionConf\\\",\\\"onFinishAnimation\\\",\\\"call\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/screenTransition/swipeSimulator.js\\\"],\\\"mappings\\\":\\\"AAmCA,SAAAA,sBAASA,CAAuBC,IAAA,EAAIC,yBAAE,EAAyBC,sBAAE,EAAsBC,KAAE,EAAKC,oBAAE,EAAoB;EAAA;IAAAC,eAAA;IAAAC;EAAA,SAAAC,QAAA;EAGlH,IAAI,CAACN,yBAAyB,EAAE;IAC9B,MAAMO,QAAQ,GAAGN,sBAAsB,CAACM,QAAQ;IAChD,MAAMC,QAAQ,GAAGJ,eAAe,CAACH,sBAAsB,EAAEC,KAAK,EAAEC,oBAAoB,CAAC;IACrFE,oBAAoB,CAACI,gBAAgB,CAACF,QAAQ,EAAEC,QAAQ,CAAC;IACzDE,qBAAqB,CAACX,IAAI,CAAC;EAC7B,CAAC,MAAM;IAAA,IAAAY,qBAAA;IACL,CAAAA,qBAAA,GAAAV,sBAAsB,CAACW,iBAAiB,cAAAD,qBAAA,uBAAxCA,qBAAA,CAAAE,IAAA,CAAAZ,sBAA2C,CAAC;EAC9C;AACF\\\",\\\"ignoreList\\\":[]}\"\n};\nvar maybeScheduleNextFrame = function () {\n  var _e = [new global.Error(), -3, -27];\n  var _f = function _f(step, didScreenReachDestination, screenTransitionConfig, event, isTransitionCanceled) {\n    if (!didScreenReachDestination) {\n      var stackTag = screenTransitionConfig.stackTag;\n      var progress = computeProgress(screenTransitionConfig, event, isTransitionCanceled);\n      RNScreensTurboModule.updateTransition(stackTag, progress);\n      requestAnimationFrame(step);\n    } else {\n      screenTransitionConfig.onFinishAnimation == null ? void 0 : screenTransitionConfig.onFinishAnimation();\n    }\n  };\n  _f._closure = {\n    computeProgress: computeProgress,\n    RNScreensTurboModule: RNScreensTurboModule\n  };\n  _f.__initData = _worklet_1546965636652_init_data;\n  _f.__workletHash = 1546965636652;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nvar _worklet_6436681800487_init_data = {\n  code: \"function getSwipeSimulator(event, screenTransitionConfig, lockAxis) {\\n  const {\\n    _getAnimationTimestamp,\\n    BASE_VELOCITY,\\n    ADDITIONAL_VELOCITY_FACTOR_X,\\n    ADDITIONAL_VELOCITY_FACTOR_Y,\\n    ADDITIONAL_VELOCITY_FACTOR_XY,\\n    applyStyleForBelowTopScreen,\\n    computeEasingProgress,\\n    easing,\\n    applyStyle,\\n    maybeScheduleNextFrame\\n  } = this._closure;\\n  const screenDimensions = screenTransitionConfig.screenDimensions;\\n  const startTimestamp = _getAnimationTimestamp();\\n  const {\\n    isTransitionCanceled: isTransitionCanceled\\n  } = screenTransitionConfig;\\n  const startingPosition = {\\n    x: event.translationX,\\n    y: event.translationY\\n  };\\n  const direction = {\\n    x: Math.sign(event.translationX),\\n    y: Math.sign(event.translationY)\\n  };\\n  const finalPosition = isTransitionCanceled ? {\\n    x: 0,\\n    y: 0\\n  } : {\\n    x: direction.x * screenDimensions.width,\\n    y: direction.y * screenDimensions.height\\n  };\\n  const distance = {\\n    x: Math.abs(finalPosition.x - startingPosition.x),\\n    y: Math.abs(finalPosition.y - startingPosition.y)\\n  };\\n  const didScreenReachDestination = {\\n    x: false,\\n    y: false\\n  };\\n  const velocity = {\\n    x: BASE_VELOCITY,\\n    y: BASE_VELOCITY\\n  };\\n  if (lockAxis === 'x') {\\n    velocity.y = 0;\\n    velocity.x += ADDITIONAL_VELOCITY_FACTOR_X * distance.x / screenDimensions.width;\\n  } else if (lockAxis === 'y') {\\n    velocity.x = 0;\\n    velocity.y += ADDITIONAL_VELOCITY_FACTOR_Y * distance.y / screenDimensions.height;\\n  } else {\\n    const euclideanDistance = Math.sqrt(distance.x ** 2 + distance.y ** 2);\\n    const screenDiagonal = Math.sqrt(screenDimensions.width ** 2 + screenDimensions.height ** 2);\\n    const velocityVectorLength = BASE_VELOCITY + ADDITIONAL_VELOCITY_FACTOR_XY * euclideanDistance / screenDiagonal;\\n    if (Math.abs(startingPosition.x) > Math.abs(startingPosition.y)) {\\n      velocity.x = velocityVectorLength;\\n      velocity.y = velocityVectorLength * Math.abs(startingPosition.y / startingPosition.x);\\n    } else {\\n      velocity.x = velocityVectorLength * Math.abs(startingPosition.x / startingPosition.y);\\n      velocity.y = velocityVectorLength;\\n    }\\n  }\\n  if (isTransitionCanceled) {\\n    function didScreenReachDestinationCheck() {\\n      if (lockAxis === 'x') {\\n        return didScreenReachDestination.x;\\n      } else if (lockAxis === 'y') {\\n        return didScreenReachDestination.y;\\n      } else {\\n        return didScreenReachDestination.x && didScreenReachDestination.y;\\n      }\\n    }\\n    function restoreOriginalStyleForBelowTopScreen() {\\n      event.translationX = direction.x * screenDimensions.width;\\n      event.translationY = direction.y * screenDimensions.height;\\n      applyStyleForBelowTopScreen(screenTransitionConfig, event);\\n    }\\n    const computeFrame = function () {\\n      const progress = {\\n        x: computeEasingProgress(startTimestamp, distance.x, velocity.x),\\n        y: computeEasingProgress(startTimestamp, distance.y, velocity.y)\\n      };\\n      event.translationX = startingPosition.x - direction.x * distance.x * easing(progress.x);\\n      event.translationY = startingPosition.y - direction.y * distance.y * easing(progress.y);\\n      if (direction.x > 0) {\\n        if (event.translationX <= 0) {\\n          didScreenReachDestination.x = true;\\n          event.translationX = 0;\\n        }\\n      } else {\\n        if (event.translationX >= 0) {\\n          didScreenReachDestination.x = true;\\n          event.translationX = 0;\\n        }\\n      }\\n      if (direction.y > 0) {\\n        if (event.translationY <= 0) {\\n          didScreenReachDestination.y = true;\\n          event.translationY = 0;\\n        }\\n      } else {\\n        if (event.translationY >= 0) {\\n          didScreenReachDestination.y = true;\\n          event.translationY = 0;\\n        }\\n      }\\n      applyStyle(screenTransitionConfig, event);\\n      const finished = didScreenReachDestinationCheck();\\n      if (finished) {\\n        restoreOriginalStyleForBelowTopScreen();\\n      }\\n      maybeScheduleNextFrame(computeFrame, finished, screenTransitionConfig, event, isTransitionCanceled);\\n    };\\n    return computeFrame;\\n  } else {\\n    const computeFrame = function () {\\n      const progress = {\\n        x: computeEasingProgress(startTimestamp, distance.x, velocity.x),\\n        y: computeEasingProgress(startTimestamp, distance.y, velocity.y)\\n      };\\n      event.translationX = startingPosition.x + direction.x * distance.x * easing(progress.x);\\n      event.translationY = startingPosition.y + direction.y * distance.y * easing(progress.y);\\n      if (direction.x > 0) {\\n        if (event.translationX >= screenDimensions.width) {\\n          didScreenReachDestination.x = true;\\n          event.translationX = screenDimensions.width;\\n        }\\n      } else {\\n        if (event.translationX <= -screenDimensions.width) {\\n          didScreenReachDestination.x = true;\\n          event.translationX = -screenDimensions.width;\\n        }\\n      }\\n      if (direction.y > 0) {\\n        if (event.translationY >= screenDimensions.height) {\\n          didScreenReachDestination.y = true;\\n          event.translationY = screenDimensions.height;\\n        }\\n      } else {\\n        if (event.translationY <= -screenDimensions.height) {\\n          didScreenReachDestination.y = true;\\n          event.translationY = -screenDimensions.height;\\n        }\\n      }\\n      applyStyle(screenTransitionConfig, event);\\n      maybeScheduleNextFrame(computeFrame, didScreenReachDestination.x || didScreenReachDestination.y, screenTransitionConfig, event, isTransitionCanceled);\\n    };\\n    return computeFrame;\\n  }\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\screenTransition\\\\swipeSimulator.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"getSwipeSimulator\\\",\\\"event\\\",\\\"screenTransitionConfig\\\",\\\"lockAxis\\\",\\\"_getAnimationTimestamp\\\",\\\"BASE_VELOCITY\\\",\\\"ADDITIONAL_VELOCITY_FACTOR_X\\\",\\\"ADDITIONAL_VELOCITY_FACTOR_Y\\\",\\\"ADDITIONAL_VELOCITY_FACTOR_XY\\\",\\\"applyStyleForBelowTopScreen\\\",\\\"computeEasingProgress\\\",\\\"easing\\\",\\\"applyStyle\\\",\\\"maybeScheduleNextFrame\\\",\\\"_closure\\\",\\\"screenDimensions\\\",\\\"startTimestamp\\\",\\\"isTransitionCanceled\\\",\\\"startingPosition\\\",\\\"x\\\",\\\"translationX\\\",\\\"y\\\",\\\"translationY\\\",\\\"direction\\\",\\\"Math\\\",\\\"sign\\\",\\\"finalPosition\\\",\\\"width\\\",\\\"height\\\",\\\"distance\\\",\\\"abs\\\",\\\"didScreenReachDestination\\\",\\\"velocity\\\",\\\"euclideanDistance\\\",\\\"sqrt\\\",\\\"screenDiagonal\\\",\\\"velocityVectorLength\\\",\\\"didScreenReachDestinationCheck\\\",\\\"restoreOriginalStyleForBelowTopScreen\\\",\\\"computeFrame\\\",\\\"progress\\\",\\\"finished\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/screenTransition/swipeSimulator.js\\\"],\\\"mappings\\\":\\\"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\\\",\\\"ignoreList\\\":[]}\"\n};\nexport var getSwipeSimulator = function () {\n  var _e = [new global.Error(), -11, -27];\n  var _f = function _f(event, screenTransitionConfig, lockAxis) {\n    var screenDimensions = screenTransitionConfig.screenDimensions;\n    var startTimestamp = _getAnimationTimestamp();\n    var isTransitionCanceled = screenTransitionConfig.isTransitionCanceled;\n    var startingPosition = {\n      x: event.translationX,\n      y: event.translationY\n    };\n    var direction = {\n      x: Math.sign(event.translationX),\n      y: Math.sign(event.translationY)\n    };\n    var finalPosition = isTransitionCanceled ? {\n      x: 0,\n      y: 0\n    } : {\n      x: direction.x * screenDimensions.width,\n      y: direction.y * screenDimensions.height\n    };\n    var distance = {\n      x: Math.abs(finalPosition.x - startingPosition.x),\n      y: Math.abs(finalPosition.y - startingPosition.y)\n    };\n    var didScreenReachDestination = {\n      x: false,\n      y: false\n    };\n    var velocity = {\n      x: BASE_VELOCITY,\n      y: BASE_VELOCITY\n    };\n    if (lockAxis === 'x') {\n      velocity.y = 0;\n      velocity.x += ADDITIONAL_VELOCITY_FACTOR_X * distance.x / screenDimensions.width;\n    } else if (lockAxis === 'y') {\n      velocity.x = 0;\n      velocity.y += ADDITIONAL_VELOCITY_FACTOR_Y * distance.y / screenDimensions.height;\n    } else {\n      var euclideanDistance = Math.sqrt(distance.x ** 2 + distance.y ** 2);\n      var screenDiagonal = Math.sqrt(screenDimensions.width ** 2 + screenDimensions.height ** 2);\n      var velocityVectorLength = BASE_VELOCITY + ADDITIONAL_VELOCITY_FACTOR_XY * euclideanDistance / screenDiagonal;\n      if (Math.abs(startingPosition.x) > Math.abs(startingPosition.y)) {\n        velocity.x = velocityVectorLength;\n        velocity.y = velocityVectorLength * Math.abs(startingPosition.y / startingPosition.x);\n      } else {\n        velocity.x = velocityVectorLength * Math.abs(startingPosition.x / startingPosition.y);\n        velocity.y = velocityVectorLength;\n      }\n    }\n    if (isTransitionCanceled) {\n      function didScreenReachDestinationCheck() {\n        if (lockAxis === 'x') {\n          return didScreenReachDestination.x;\n        } else if (lockAxis === 'y') {\n          return didScreenReachDestination.y;\n        } else {\n          return didScreenReachDestination.x && didScreenReachDestination.y;\n        }\n      }\n      function restoreOriginalStyleForBelowTopScreen() {\n        event.translationX = direction.x * screenDimensions.width;\n        event.translationY = direction.y * screenDimensions.height;\n        applyStyleForBelowTopScreen(screenTransitionConfig, event);\n      }\n      var _computeFrame = function computeFrame() {\n        var progress = {\n          x: computeEasingProgress(startTimestamp, distance.x, velocity.x),\n          y: computeEasingProgress(startTimestamp, distance.y, velocity.y)\n        };\n        event.translationX = startingPosition.x - direction.x * distance.x * easing(progress.x);\n        event.translationY = startingPosition.y - direction.y * distance.y * easing(progress.y);\n        if (direction.x > 0) {\n          if (event.translationX <= 0) {\n            didScreenReachDestination.x = true;\n            event.translationX = 0;\n          }\n        } else {\n          if (event.translationX >= 0) {\n            didScreenReachDestination.x = true;\n            event.translationX = 0;\n          }\n        }\n        if (direction.y > 0) {\n          if (event.translationY <= 0) {\n            didScreenReachDestination.y = true;\n            event.translationY = 0;\n          }\n        } else {\n          if (event.translationY >= 0) {\n            didScreenReachDestination.y = true;\n            event.translationY = 0;\n          }\n        }\n        applyStyle(screenTransitionConfig, event);\n        var finished = didScreenReachDestinationCheck();\n        if (finished) {\n          restoreOriginalStyleForBelowTopScreen();\n        }\n        maybeScheduleNextFrame(_computeFrame, finished, screenTransitionConfig, event, isTransitionCanceled);\n      };\n      return _computeFrame;\n    } else {\n      var _computeFrame2 = function computeFrame() {\n        var progress = {\n          x: computeEasingProgress(startTimestamp, distance.x, velocity.x),\n          y: computeEasingProgress(startTimestamp, distance.y, velocity.y)\n        };\n        event.translationX = startingPosition.x + direction.x * distance.x * easing(progress.x);\n        event.translationY = startingPosition.y + direction.y * distance.y * easing(progress.y);\n        if (direction.x > 0) {\n          if (event.translationX >= screenDimensions.width) {\n            didScreenReachDestination.x = true;\n            event.translationX = screenDimensions.width;\n          }\n        } else {\n          if (event.translationX <= -screenDimensions.width) {\n            didScreenReachDestination.x = true;\n            event.translationX = -screenDimensions.width;\n          }\n        }\n        if (direction.y > 0) {\n          if (event.translationY >= screenDimensions.height) {\n            didScreenReachDestination.y = true;\n            event.translationY = screenDimensions.height;\n          }\n        } else {\n          if (event.translationY <= -screenDimensions.height) {\n            didScreenReachDestination.y = true;\n            event.translationY = -screenDimensions.height;\n          }\n        }\n        applyStyle(screenTransitionConfig, event);\n        maybeScheduleNextFrame(_computeFrame2, didScreenReachDestination.x || didScreenReachDestination.y, screenTransitionConfig, event, isTransitionCanceled);\n      };\n      return _computeFrame2;\n    }\n  };\n  _f._closure = {\n    _getAnimationTimestamp: _getAnimationTimestamp,\n    BASE_VELOCITY: BASE_VELOCITY,\n    ADDITIONAL_VELOCITY_FACTOR_X: ADDITIONAL_VELOCITY_FACTOR_X,\n    ADDITIONAL_VELOCITY_FACTOR_Y: ADDITIONAL_VELOCITY_FACTOR_Y,\n    ADDITIONAL_VELOCITY_FACTOR_XY: ADDITIONAL_VELOCITY_FACTOR_XY,\n    applyStyleForBelowTopScreen: applyStyleForBelowTopScreen,\n    computeEasingProgress: computeEasingProgress,\n    easing: easing,\n    applyStyle: applyStyle,\n    maybeScheduleNextFrame: maybeScheduleNextFrame\n  };\n  _f.__initData = _worklet_6436681800487_init_data;\n  _f.__workletHash = 6436681800487;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();","map":{"version":3,"names":["applyStyle","applyStyleForBelowTopScreen","RNScreensTurboModule","BASE_VELOCITY","ADDITIONAL_VELOCITY_FACTOR_X","ADDITIONAL_VELOCITY_FACTOR_Y","ADDITIONAL_VELOCITY_FACTOR_XY","_worklet_7921706114153_init_data","code","location","sourceMap","computeEasingProgress","_e","global","Error","_f","startingTimestamp","distance","velocity","Math","abs","elapsedTime","_getAnimationTimestamp","currentPosition","progress","_closure","__initData","__workletHash","__stackDetails","__version","_worklet_2951350988554_init_data","easing","x","pow","_worklet_2265195432510_init_data","computeProgress","screenTransitionConfig","event","isTransitionCanceled","screenDimensions","progressX","translationX","width","progressY","translationY","height","maxProgress","max","_worklet_1546965636652_init_data","maybeScheduleNextFrame","step","didScreenReachDestination","stackTag","updateTransition","requestAnimationFrame","onFinishAnimation","_worklet_6436681800487_init_data","getSwipeSimulator","lockAxis","startTimestamp","startingPosition","y","direction","sign","finalPosition","euclideanDistance","sqrt","screenDiagonal","velocityVectorLength","didScreenReachDestinationCheck","restoreOriginalStyleForBelowTopScreen","computeFrame","finished"],"sources":["d:\\CODING\\random\\12-13\\node_modules\\react-native-reanimated\\src\\screenTransition\\swipeSimulator.ts"],"sourcesContent":["'use strict';\nimport type {\n  PanGestureHandlerEventPayload,\n  ScreenTransitionConfig,\n  LockAxis,\n} from './commonTypes';\nimport { applyStyle, applyStyleForBelowTopScreen } from './styleUpdater';\nimport { RNScreensTurboModule } from './RNScreensTurboModule';\n\nconst BASE_VELOCITY = 400;\nconst ADDITIONAL_VELOCITY_FACTOR_X = 400;\nconst ADDITIONAL_VELOCITY_FACTOR_Y = 500;\nconst ADDITIONAL_VELOCITY_FACTOR_XY = 600;\n\nfunction computeEasingProgress(\n  startingTimestamp: number,\n  distance: number,\n  velocity: number\n) {\n  'worklet';\n  if (Math.abs(distance) < 1) {\n    return 1;\n  }\n  const elapsedTime = (_getAnimationTimestamp() - startingTimestamp) / 1000;\n  const currentPosition = velocity * elapsedTime;\n  const progress = currentPosition / distance;\n  return progress;\n}\n\nfunction easing(x: number): number {\n  'worklet';\n  // based on https://easings.net/#easeOutQuart\n  return 1 - Math.pow(1 - x, 5);\n}\n\nfunction computeProgress(\n  screenTransitionConfig: ScreenTransitionConfig,\n  event: PanGestureHandlerEventPayload,\n  isTransitionCanceled: boolean\n) {\n  'worklet';\n  const screenDimensions = screenTransitionConfig.screenDimensions;\n  const progressX = Math.abs(event.translationX / screenDimensions.width);\n  const progressY = Math.abs(event.translationY / screenDimensions.height);\n  const maxProgress = Math.max(progressX, progressY);\n  const progress = isTransitionCanceled ? maxProgress / 2 : maxProgress;\n  return progress;\n}\n\nfunction maybeScheduleNextFrame(\n  step: () => void,\n  didScreenReachDestination: boolean,\n  screenTransitionConfig: ScreenTransitionConfig,\n  event: PanGestureHandlerEventPayload,\n  isTransitionCanceled: boolean\n) {\n  'worklet';\n  if (!didScreenReachDestination) {\n    const stackTag = screenTransitionConfig.stackTag;\n    const progress = computeProgress(\n      screenTransitionConfig,\n      event,\n      isTransitionCanceled\n    );\n    RNScreensTurboModule.updateTransition(stackTag, progress);\n    requestAnimationFrame(step);\n  } else {\n    screenTransitionConfig.onFinishAnimation?.();\n  }\n}\n\nexport function getSwipeSimulator(\n  event: PanGestureHandlerEventPayload,\n  screenTransitionConfig: ScreenTransitionConfig,\n  lockAxis?: LockAxis\n) {\n  'worklet';\n  const screenDimensions = screenTransitionConfig.screenDimensions;\n  const startTimestamp = _getAnimationTimestamp();\n  const { isTransitionCanceled } = screenTransitionConfig;\n  const startingPosition = {\n    x: event.translationX,\n    y: event.translationY,\n  };\n  const direction = {\n    x: Math.sign(event.translationX),\n    y: Math.sign(event.translationY),\n  };\n  const finalPosition = isTransitionCanceled\n    ? { x: 0, y: 0 }\n    : {\n        x: direction.x * screenDimensions.width,\n        y: direction.y * screenDimensions.height,\n      };\n  const distance = {\n    x: Math.abs(finalPosition.x - startingPosition.x),\n    y: Math.abs(finalPosition.y - startingPosition.y),\n  };\n  const didScreenReachDestination = {\n    x: false,\n    y: false,\n  };\n  const velocity = { x: BASE_VELOCITY, y: BASE_VELOCITY };\n  if (lockAxis === 'x') {\n    velocity.y = 0;\n    velocity.x +=\n      (ADDITIONAL_VELOCITY_FACTOR_X * distance.x) / screenDimensions.width;\n  } else if (lockAxis === 'y') {\n    velocity.x = 0;\n    velocity.y +=\n      (ADDITIONAL_VELOCITY_FACTOR_Y * distance.y) / screenDimensions.height;\n  } else {\n    const euclideanDistance = Math.sqrt(distance.x ** 2 + distance.y ** 2);\n    const screenDiagonal = Math.sqrt(\n      screenDimensions.width ** 2 + screenDimensions.height ** 2\n    );\n    const velocityVectorLength =\n      BASE_VELOCITY +\n      (ADDITIONAL_VELOCITY_FACTOR_XY * euclideanDistance) / screenDiagonal;\n    if (Math.abs(startingPosition.x) > Math.abs(startingPosition.y)) {\n      velocity.x = velocityVectorLength;\n      velocity.y =\n        velocityVectorLength *\n        Math.abs(startingPosition.y / startingPosition.x);\n    } else {\n      velocity.x =\n        velocityVectorLength *\n        Math.abs(startingPosition.x / startingPosition.y);\n      velocity.y = velocityVectorLength;\n    }\n  }\n\n  if (isTransitionCanceled) {\n    function didScreenReachDestinationCheck() {\n      if (lockAxis === 'x') {\n        return didScreenReachDestination.x;\n      } else if (lockAxis === 'y') {\n        return didScreenReachDestination.y;\n      } else {\n        return didScreenReachDestination.x && didScreenReachDestination.y;\n      }\n    }\n\n    function restoreOriginalStyleForBelowTopScreen() {\n      event.translationX = direction.x * screenDimensions.width;\n      event.translationY = direction.y * screenDimensions.height;\n      applyStyleForBelowTopScreen(screenTransitionConfig, event);\n    }\n\n    const computeFrame = () => {\n      const progress = {\n        x: computeEasingProgress(startTimestamp, distance.x, velocity.x),\n        y: computeEasingProgress(startTimestamp, distance.y, velocity.y),\n      };\n      event.translationX =\n        startingPosition.x - direction.x * distance.x * easing(progress.x);\n      event.translationY =\n        startingPosition.y - direction.y * distance.y * easing(progress.y);\n      if (direction.x > 0) {\n        if (event.translationX <= 0) {\n          didScreenReachDestination.x = true;\n          event.translationX = 0;\n        }\n      } else {\n        if (event.translationX >= 0) {\n          didScreenReachDestination.x = true;\n          event.translationX = 0;\n        }\n      }\n      if (direction.y > 0) {\n        if (event.translationY <= 0) {\n          didScreenReachDestination.y = true;\n          event.translationY = 0;\n        }\n      } else {\n        if (event.translationY >= 0) {\n          didScreenReachDestination.y = true;\n          event.translationY = 0;\n        }\n      }\n      applyStyle(screenTransitionConfig, event);\n      const finished = didScreenReachDestinationCheck();\n      if (finished) {\n        restoreOriginalStyleForBelowTopScreen();\n      }\n      maybeScheduleNextFrame(\n        computeFrame,\n        finished,\n        screenTransitionConfig,\n        event,\n        isTransitionCanceled\n      );\n    };\n    return computeFrame;\n  } else {\n    const computeFrame = () => {\n      const progress = {\n        x: computeEasingProgress(startTimestamp, distance.x, velocity.x),\n        y: computeEasingProgress(startTimestamp, distance.y, velocity.y),\n      };\n      event.translationX =\n        startingPosition.x + direction.x * distance.x * easing(progress.x);\n      event.translationY =\n        startingPosition.y + direction.y * distance.y * easing(progress.y);\n      if (direction.x > 0) {\n        if (event.translationX >= screenDimensions.width) {\n          didScreenReachDestination.x = true;\n          event.translationX = screenDimensions.width;\n        }\n      } else {\n        if (event.translationX <= -screenDimensions.width) {\n          didScreenReachDestination.x = true;\n          event.translationX = -screenDimensions.width;\n        }\n      }\n      if (direction.y > 0) {\n        if (event.translationY >= screenDimensions.height) {\n          didScreenReachDestination.y = true;\n          event.translationY = screenDimensions.height;\n        }\n      } else {\n        if (event.translationY <= -screenDimensions.height) {\n          didScreenReachDestination.y = true;\n          event.translationY = -screenDimensions.height;\n        }\n      }\n      applyStyle(screenTransitionConfig, event);\n      maybeScheduleNextFrame(\n        computeFrame,\n        didScreenReachDestination.x || didScreenReachDestination.y,\n        screenTransitionConfig,\n        event,\n        isTransitionCanceled\n      );\n    };\n    return computeFrame;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}