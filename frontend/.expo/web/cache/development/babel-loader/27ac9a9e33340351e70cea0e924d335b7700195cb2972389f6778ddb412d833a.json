{"ast":null,"code":"'use strict';\n\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { useEffect, useMemo, useRef } from 'react';\nimport { initializeSensor, registerSensor, unregisterSensor } from \"../core.js\";\nimport { SensorType, IOSReferenceFrame, InterfaceOrientation } from \"../commonTypes.js\";\nimport { callMicrotasks } from \"../threads.js\";\nvar _worklet_16207379104934_init_data = {\n  code: \"function eulerToQuaternion(pitch, roll, yaw) {\\n  const c1 = Math.cos(pitch / 2);\\n  const s1 = Math.sin(pitch / 2);\\n  const c2 = Math.cos(roll / 2);\\n  const s2 = Math.sin(roll / 2);\\n  const c3 = Math.cos(yaw / 2);\\n  const s3 = Math.sin(yaw / 2);\\n  return [s1 * c2 * c3 - c1 * s2 * s3, c1 * s2 * c3 + s1 * c2 * s3, c1 * c2 * s3 + s1 * s2 * c3, c1 * c2 * c3 - s1 * s2 * s3];\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\hook\\\\useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"eulerToQuaternion\\\",\\\"pitch\\\",\\\"roll\\\",\\\"yaw\\\",\\\"c1\\\",\\\"Math\\\",\\\"cos\\\",\\\"s1\\\",\\\"sin\\\",\\\"c2\\\",\\\"s2\\\",\\\"c3\\\",\\\"s3\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AAOA,SAAAA,kBAAAC,KAAA,EAAAC,IAAA,EAAAC,GAAA;EAAA,MAAAC,EAAA,GAAAC,IAAA,CAAAC,GAAA,CAAAL,KAAA;EACA,MAAAM,EAAA,GAAAF,IAAA,CAAAG,GAAA,CAAAP,KAAA;EACA,MAAAQ,EAAS,GAAAJ,IAAA,CAAAC,GAAA,CAAAJ,IAAiB,GAAC;EAGzB,MAAMQ,EAAE,GAAGL,IAAI,CAACG,GAAG,CAACN,IAAA,GAAK,CAAG,CAAC;EAC7B,MAAMS,EAAE,GAAGN,IAAI,CAACC,GAAG,CAACH,GAAA,GAAK,EAAG;EAC5B,MAAMS,EAAE,GAAGP,IAAI,CAACG,GAAG,CAACL,GAAA,GAAI,CAAG,CAAC;EAC5B,OAAM,CAAEI,EAAA,GAAGE,EAAI,GAACE,EAAI,GAAAP,EAAI,GAAIM,EAAC,GAAAE,EAAA,EAAAR,EAAA,GAAAM,EAAA,GAAAC,EAAA,GAAAJ,EAAA,GAAAE,EAAA,GAAAG,EAAA,EAAAR,EAAA,GAAAK,EAAA,GAAAG,EAAA,GAAAL,EAAA,GAAAG,EAAA,GAAAC,EAAA,EAAAP,EAAA,GAAAK,EAAA,GAAAE,EAAA,GAAAJ,EAAA,GAAAG,EAAA,GAAAE,EAAA\\\",\\\"ignoreList\\\":[]}\"\n};\nvar eulerToQuaternion = function () {\n  var _e = [new global.Error(), 1, -27];\n  var _f = function _f(pitch, roll, yaw) {\n    var c1 = Math.cos(pitch / 2);\n    var s1 = Math.sin(pitch / 2);\n    var c2 = Math.cos(roll / 2);\n    var s2 = Math.sin(roll / 2);\n    var c3 = Math.cos(yaw / 2);\n    var s3 = Math.sin(yaw / 2);\n    return [s1 * c2 * c3 - c1 * s2 * s3, c1 * s2 * c3 + s1 * c2 * s3, c1 * c2 * s3 + s1 * s2 * c3, c1 * c2 * c3 - s1 * s2 * s3];\n  };\n  _f._closure = {};\n  _f.__initData = _worklet_16207379104934_init_data;\n  _f.__workletHash = 16207379104934;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nvar _worklet_11976178209931_init_data = {\n  code: \"function adjustRotationToInterfaceOrientation(data) {\\n  const {\\n    InterfaceOrientation,\\n    eulerToQuaternion\\n  } = this._closure;\\n  const {\\n    interfaceOrientation: interfaceOrientation,\\n    pitch: pitch,\\n    roll: roll,\\n    yaw: yaw\\n  } = data;\\n  if (interfaceOrientation === InterfaceOrientation.ROTATION_90) {\\n    data.pitch = roll;\\n    data.roll = -pitch;\\n    data.yaw = yaw - Math.PI / 2;\\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_270) {\\n    data.pitch = -roll;\\n    data.roll = pitch;\\n    data.yaw = yaw + Math.PI / 2;\\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_180) {\\n    data.pitch *= -1;\\n    data.roll *= -1;\\n    data.yaw *= -1;\\n  }\\n  const q = eulerToQuaternion(data.pitch, data.roll, data.yaw);\\n  data.qx = q[0];\\n  data.qy = q[1];\\n  data.qz = q[2];\\n  data.qw = q[3];\\n  return data;\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\hook\\\\useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"adjustRotationToInterfaceOrientation\\\",\\\"data\\\",\\\"InterfaceOrientation\\\",\\\"eulerToQuaternion\\\",\\\"_closure\\\",\\\"interfaceOrientation\\\",\\\"pitch\\\",\\\"roll\\\",\\\"yaw\\\",\\\"ROTATION_90\\\",\\\"Math\\\",\\\"PI\\\",\\\"ROTATION_270\\\",\\\"ROTATION_180\\\",\\\"q\\\",\\\"qx\\\",\\\"qy\\\",\\\"qz\\\",\\\"qw\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AAoBA,SAAAA,oCAASA,CAAqCC,IAAA,EAAI;EAAA;IAAAC,oBAAA;IAAAC;EAAA,SAAAC,QAAA;EAGhD,MAAM;IACJC,oBAAoB,EAApBA,oBAAoB;IACpBC,KAAK,EAALA,KAAK;IACLC,IAAI,EAAJA,IAAI;IACJC,GAAA,EAAAA;EACF,CAAC,GAAGP,IAAI;EACR,IAAII,oBAAoB,KAAKH,oBAAoB,CAACO,WAAW,EAAE;IAC7DR,IAAI,CAACK,KAAK,GAAGC,IAAI;IACjBN,IAAI,CAACM,IAAI,GAAG,CAACD,KAAK;IAClBL,IAAI,CAACO,GAAG,GAAGA,GAAG,GAAGE,IAAI,CAACC,EAAE,GAAG,CAAC;EAC9B,CAAC,MAAM,IAAIN,oBAAoB,KAAKH,oBAAoB,CAACU,YAAY,EAAE;IACrEX,IAAI,CAACK,KAAK,GAAG,CAACC,IAAI;IAClBN,IAAI,CAACM,IAAI,GAAGD,KAAK;IACjBL,IAAI,CAACO,GAAG,GAAGA,GAAG,GAAGE,IAAI,CAACC,EAAE,GAAG,CAAC;EAC9B,CAAC,MAAM,IAAIN,oBAAoB,KAAKH,oBAAoB,CAACW,YAAY,EAAE;IACrEZ,IAAI,CAACK,KAAK,IAAI,CAAC,CAAC;IAChBL,IAAI,CAACM,IAAI,IAAI,CAAC,CAAC;IACfN,IAAI,CAACO,GAAG,IAAI,CAAC,CAAC;EAChB;EACA,MAAMM,CAAC,GAAGX,iBAAiB,CAACF,IAAI,CAACK,KAAK,EAAEL,IAAI,CAACM,IAAI,EAAEN,IAAI,CAACO,GAAG,CAAC;EAC5DP,IAAI,CAACc,EAAE,GAAGD,CAAC,CAAC,CAAC,CAAC;EACdb,IAAI,CAACe,EAAE,GAAGF,CAAC,CAAC,CAAC,CAAC;EACdb,IAAI,CAACgB,EAAE,GAAGH,CAAC,CAAC,CAAC,CAAC;EACdb,IAAI,CAACiB,EAAE,GAAGJ,CAAC,CAAC,CAAC,CAAC;EACd,OAAOb,IAAI;AACb\\\",\\\"ignoreList\\\":[]}\"\n};\nvar adjustRotationToInterfaceOrientation = function () {\n  var _e = [new global.Error(), -3, -27];\n  var _f = function _f(data) {\n    var interfaceOrientation = data.interfaceOrientation,\n      pitch = data.pitch,\n      roll = data.roll,\n      yaw = data.yaw;\n    if (interfaceOrientation === InterfaceOrientation.ROTATION_90) {\n      data.pitch = roll;\n      data.roll = -pitch;\n      data.yaw = yaw - Math.PI / 2;\n    } else if (interfaceOrientation === InterfaceOrientation.ROTATION_270) {\n      data.pitch = -roll;\n      data.roll = pitch;\n      data.yaw = yaw + Math.PI / 2;\n    } else if (interfaceOrientation === InterfaceOrientation.ROTATION_180) {\n      data.pitch *= -1;\n      data.roll *= -1;\n      data.yaw *= -1;\n    }\n    var q = eulerToQuaternion(data.pitch, data.roll, data.yaw);\n    data.qx = q[0];\n    data.qy = q[1];\n    data.qz = q[2];\n    data.qw = q[3];\n    return data;\n  };\n  _f._closure = {\n    InterfaceOrientation: InterfaceOrientation,\n    eulerToQuaternion: eulerToQuaternion\n  };\n  _f.__initData = _worklet_11976178209931_init_data;\n  _f.__workletHash = 11976178209931;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nvar _worklet_14812006280340_init_data = {\n  code: \"function adjustVectorToInterfaceOrientation(data) {\\n  const {\\n    InterfaceOrientation\\n  } = this._closure;\\n  const {\\n    interfaceOrientation: interfaceOrientation,\\n    x: x,\\n    y: y\\n  } = data;\\n  if (interfaceOrientation === InterfaceOrientation.ROTATION_90) {\\n    data.x = -y;\\n    data.y = x;\\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_270) {\\n    data.x = y;\\n    data.y = -x;\\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_180) {\\n    data.x *= -1;\\n    data.y *= -1;\\n  }\\n  return data;\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\hook\\\\useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"adjustVectorToInterfaceOrientation\\\",\\\"data\\\",\\\"InterfaceOrientation\\\",\\\"_closure\\\",\\\"interfaceOrientation\\\",\\\"x\\\",\\\"y\\\",\\\"ROTATION_90\\\",\\\"ROTATION_270\\\",\\\"ROTATION_180\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AAiDA,SAAAA,kCAASA,CAAmCC,IAAA,EAAI;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAG9C,MAAM;IACJC,oBAAoB,EAApBA,oBAAoB;IACpBC,CAAC,EAADA,CAAC;IACDC,CAAA,EAAAA;EACF,CAAC,GAAGL,IAAI;EACR,IAAIG,oBAAoB,KAAKF,oBAAoB,CAACK,WAAW,EAAE;IAC7DN,IAAI,CAACI,CAAC,GAAG,CAACC,CAAC;IACXL,IAAI,CAACK,CAAC,GAAGD,CAAC;EACZ,CAAC,MAAM,IAAID,oBAAoB,KAAKF,oBAAoB,CAACM,YAAY,EAAE;IACrEP,IAAI,CAACI,CAAC,GAAGC,CAAC;IACVL,IAAI,CAACK,CAAC,GAAG,CAACD,CAAC;EACb,CAAC,MAAM,IAAID,oBAAoB,KAAKF,oBAAoB,CAACO,YAAY,EAAE;IACrER,IAAI,CAACI,CAAC,IAAI,CAAC,CAAC;IACZJ,IAAI,CAACK,CAAC,IAAI,CAAC,CAAC;EACd;EACA,OAAOL,IAAI;AACb\\\",\\\"ignoreList\\\":[]}\"\n};\nvar adjustVectorToInterfaceOrientation = function () {\n  var _e = [new global.Error(), -2, -27];\n  var _f = function _f(data) {\n    var interfaceOrientation = data.interfaceOrientation,\n      x = data.x,\n      y = data.y;\n    if (interfaceOrientation === InterfaceOrientation.ROTATION_90) {\n      data.x = -y;\n      data.y = x;\n    } else if (interfaceOrientation === InterfaceOrientation.ROTATION_270) {\n      data.x = y;\n      data.y = -x;\n    } else if (interfaceOrientation === InterfaceOrientation.ROTATION_180) {\n      data.x *= -1;\n      data.y *= -1;\n    }\n    return data;\n  };\n  _f._closure = {\n    InterfaceOrientation: InterfaceOrientation\n  };\n  _f.__initData = _worklet_14812006280340_init_data;\n  _f.__workletHash = 14812006280340;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();\nvar _worklet_16054857555903_init_data = {\n  code: \"function anonymous(data) {\\n  const {\\n    adjustToInterfaceOrientation,\\n    sensorType,\\n    SensorType,\\n    adjustRotationToInterfaceOrientation,\\n    adjustVectorToInterfaceOrientation,\\n    sensorData,\\n    callMicrotasks\\n  } = this._closure;\\n  if (adjustToInterfaceOrientation) {\\n    if (sensorType === SensorType.ROTATION) {\\n      data = adjustRotationToInterfaceOrientation(data);\\n    } else {\\n      data = adjustVectorToInterfaceOrientation(data);\\n    }\\n  }\\n  sensorData.value = data;\\n  callMicrotasks();\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\hook\\\\useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"data\\\",\\\"adjustToInterfaceOrientation\\\",\\\"sensorType\\\",\\\"SensorType\\\",\\\"adjustRotationToInterfaceOrientation\\\",\\\"adjustVectorToInterfaceOrientation\\\",\\\"sensorData\\\",\\\"callMicrotasks\\\",\\\"_closure\\\",\\\"ROTATION\\\",\\\"value\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AAmHkD,SAAAA,SAAQA,CAAAC,IAAA;EAAA;IAAAC,4BAAA;IAAAC,UAAA;IAAAC,UAAA;IAAAC,oCAAA;IAAAC,kCAAA;IAAAC,UAAA;IAAAC;EAAA,SAAAC,QAAA;EAGpD,IAAIP,4BAA4B,EAAE;IAChC,IAAIC,UAAU,KAAKC,UAAU,CAACM,QAAQ,EAAE;MACtCT,IAAI,GAAGI,oCAAoC,CAACJ,IAAI,CAAC;IACnD,CAAC,MAAM;MACLA,IAAI,GAAGK,kCAAkC,CAACL,IAAI,CAAC;IACjD;EACF;EACAM,UAAU,CAACI,KAAK,GAAGV,IAAI;EACvBO,cAAc,CAAC,CAAC;AAClB\\\",\\\"ignoreList\\\":[]}\"\n};\nexport function useAnimatedSensor(sensorType, userConfig) {\n  var _userConfigRef$curren, _userConfigRef$curren2, _userConfigRef$curren3;\n  var userConfigRef = useRef(userConfig);\n  var hasConfigChanged = ((_userConfigRef$curren = userConfigRef.current) == null ? void 0 : _userConfigRef$curren.adjustToInterfaceOrientation) !== (userConfig == null ? void 0 : userConfig.adjustToInterfaceOrientation) || ((_userConfigRef$curren2 = userConfigRef.current) == null ? void 0 : _userConfigRef$curren2.interval) !== (userConfig == null ? void 0 : userConfig.interval) || ((_userConfigRef$curren3 = userConfigRef.current) == null ? void 0 : _userConfigRef$curren3.iosReferenceFrame) !== (userConfig == null ? void 0 : userConfig.iosReferenceFrame);\n  if (hasConfigChanged) {\n    userConfigRef.current = _objectSpread({}, userConfig);\n  }\n  var config = useMemo(function () {\n    return _objectSpread({\n      interval: 'auto',\n      adjustToInterfaceOrientation: true,\n      iosReferenceFrame: IOSReferenceFrame.Auto\n    }, userConfigRef.current);\n  }, [userConfigRef.current]);\n  var ref = useRef({\n    sensor: initializeSensor(sensorType, config),\n    unregister: function unregister() {},\n    isAvailable: false,\n    config: config\n  });\n  useEffect(function () {\n    ref.current = {\n      sensor: initializeSensor(sensorType, config),\n      unregister: function unregister() {},\n      isAvailable: false,\n      config: config\n    };\n    var sensorData = ref.current.sensor;\n    var adjustToInterfaceOrientation = ref.current.config.adjustToInterfaceOrientation;\n    var id = registerSensor(sensorType, config, function () {\n      var _e = [new global.Error(), -8, -27];\n      var _f = function _f(data) {\n        if (adjustToInterfaceOrientation) {\n          if (sensorType === SensorType.ROTATION) {\n            data = adjustRotationToInterfaceOrientation(data);\n          } else {\n            data = adjustVectorToInterfaceOrientation(data);\n          }\n        }\n        sensorData.value = data;\n        callMicrotasks();\n      };\n      _f._closure = {\n        adjustToInterfaceOrientation: adjustToInterfaceOrientation,\n        sensorType: sensorType,\n        SensorType: SensorType,\n        adjustRotationToInterfaceOrientation: adjustRotationToInterfaceOrientation,\n        adjustVectorToInterfaceOrientation: adjustVectorToInterfaceOrientation,\n        sensorData: sensorData,\n        callMicrotasks: callMicrotasks\n      };\n      _f.__initData = _worklet_16054857555903_init_data;\n      _f.__workletHash = 16054857555903;\n      _f.__stackDetails = _e;\n      _f.__version = \"3.3.0\";\n      return _f;\n    }());\n    if (id !== -1) {\n      ref.current.unregister = function () {\n        return unregisterSensor(id);\n      };\n      ref.current.isAvailable = true;\n    } else {\n      ref.current.unregister = function () {};\n      ref.current.isAvailable = false;\n    }\n    return function () {\n      ref.current.unregister();\n    };\n  }, [sensorType, config]);\n  return ref.current;\n}","map":{"version":3,"names":["_defineProperty","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","useEffect","useMemo","useRef","initializeSensor","registerSensor","unregisterSensor","SensorType","IOSReferenceFrame","InterfaceOrientation","callMicrotasks","_worklet_16207379104934_init_data","code","location","sourceMap","eulerToQuaternion","_e","global","Error","_f","pitch","roll","yaw","c1","Math","cos","s1","sin","c2","s2","c3","s3","_closure","__initData","__workletHash","__stackDetails","__version","_worklet_11976178209931_init_data","adjustRotationToInterfaceOrientation","data","interfaceOrientation","ROTATION_90","PI","ROTATION_270","ROTATION_180","q","qx","qy","qz","qw","_worklet_14812006280340_init_data","adjustVectorToInterfaceOrientation","x","y","_worklet_16054857555903_init_data","useAnimatedSensor","sensorType","userConfig","_userConfigRef$curren","_userConfigRef$curren2","_userConfigRef$curren3","userConfigRef","hasConfigChanged","current","adjustToInterfaceOrientation","interval","iosReferenceFrame","config","Auto","ref","sensor","unregister","isAvailable","sensorData","id","ROTATION","value"],"sources":["d:\\CODING\\random\\12-13\\node_modules\\react-native-reanimated\\src\\hook\\useAnimatedSensor.ts"],"sourcesContent":["'use strict';\nimport { useEffect, useMemo, useRef } from 'react';\nimport { initializeSensor, registerSensor, unregisterSensor } from '../core';\nimport type {\n  SensorConfig,\n  AnimatedSensor,\n  Value3D,\n  ValueRotation,\n} from '../commonTypes';\nimport {\n  SensorType,\n  IOSReferenceFrame,\n  InterfaceOrientation,\n} from '../commonTypes';\nimport { callMicrotasks } from '../threads';\n\n// euler angles are in order ZXY, z = yaw, x = pitch, y = roll\n// https://github.com/mrdoob/three.js/blob/dev/src/math/Quaternion.js#L237\nfunction eulerToQuaternion(pitch: number, roll: number, yaw: number) {\n  'worklet';\n  const c1 = Math.cos(pitch / 2);\n  const s1 = Math.sin(pitch / 2);\n  const c2 = Math.cos(roll / 2);\n  const s2 = Math.sin(roll / 2);\n  const c3 = Math.cos(yaw / 2);\n  const s3 = Math.sin(yaw / 2);\n\n  return [\n    s1 * c2 * c3 - c1 * s2 * s3,\n    c1 * s2 * c3 + s1 * c2 * s3,\n    c1 * c2 * s3 + s1 * s2 * c3,\n    c1 * c2 * c3 - s1 * s2 * s3,\n  ];\n}\n\nfunction adjustRotationToInterfaceOrientation(data: ValueRotation) {\n  'worklet';\n  const { interfaceOrientation, pitch, roll, yaw } = data;\n  if (interfaceOrientation === InterfaceOrientation.ROTATION_90) {\n    data.pitch = roll;\n    data.roll = -pitch;\n    data.yaw = yaw - Math.PI / 2;\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_270) {\n    data.pitch = -roll;\n    data.roll = pitch;\n    data.yaw = yaw + Math.PI / 2;\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_180) {\n    data.pitch *= -1;\n    data.roll *= -1;\n    data.yaw *= -1;\n  }\n\n  const q = eulerToQuaternion(data.pitch, data.roll, data.yaw);\n  data.qx = q[0];\n  data.qy = q[1];\n  data.qz = q[2];\n  data.qw = q[3];\n  return data;\n}\n\nfunction adjustVectorToInterfaceOrientation(data: Value3D) {\n  'worklet';\n  const { interfaceOrientation, x, y } = data;\n  if (interfaceOrientation === InterfaceOrientation.ROTATION_90) {\n    data.x = -y;\n    data.y = x;\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_270) {\n    data.x = y;\n    data.y = -x;\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_180) {\n    data.x *= -1;\n    data.y *= -1;\n  }\n  return data;\n}\n\n/**\n * Lets you create animations based on data from the device's sensors.\n *\n * @param sensorType - Type of the sensor to use. Configured with\n *   {@link SensorType} enum.\n * @param config - The sensor configuration - {@link SensorConfig}.\n * @returns An object containing the sensor measurements [shared\n *   value](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#shared-value)\n *   and a function to unregister the sensor\n * @see https://docs.swmansion.com/react-native-reanimated/docs/device/useAnimatedSensor\n */\nexport function useAnimatedSensor(\n  sensorType: SensorType.ROTATION,\n  userConfig?: Partial<SensorConfig>\n): AnimatedSensor<ValueRotation>;\nexport function useAnimatedSensor(\n  sensorType: Exclude<SensorType, SensorType.ROTATION>,\n  userConfig?: Partial<SensorConfig>\n): AnimatedSensor<Value3D>;\nexport function useAnimatedSensor(\n  sensorType: SensorType,\n  userConfig?: Partial<SensorConfig>\n): AnimatedSensor<ValueRotation> | AnimatedSensor<Value3D> {\n  const userConfigRef = useRef(userConfig);\n\n  const hasConfigChanged =\n    userConfigRef.current?.adjustToInterfaceOrientation !==\n      userConfig?.adjustToInterfaceOrientation ||\n    userConfigRef.current?.interval !== userConfig?.interval ||\n    userConfigRef.current?.iosReferenceFrame !== userConfig?.iosReferenceFrame;\n\n  if (hasConfigChanged) {\n    userConfigRef.current = { ...userConfig };\n  }\n\n  const config: SensorConfig = useMemo(\n    () => ({\n      interval: 'auto',\n      adjustToInterfaceOrientation: true,\n      iosReferenceFrame: IOSReferenceFrame.Auto,\n      ...userConfigRef.current,\n    }),\n    [userConfigRef.current]\n  );\n\n  const ref = useRef<AnimatedSensor<Value3D | ValueRotation>>({\n    sensor: initializeSensor(sensorType, config),\n    unregister: () => {\n      // NOOP\n    },\n    isAvailable: false,\n    config,\n  });\n\n  useEffect(() => {\n    ref.current = {\n      sensor: initializeSensor(sensorType, config),\n      unregister: () => {\n        // NOOP\n      },\n      isAvailable: false,\n      config,\n    };\n\n    const sensorData = ref.current.sensor;\n    const adjustToInterfaceOrientation =\n      ref.current.config.adjustToInterfaceOrientation;\n\n    const id = registerSensor(sensorType, config, (data) => {\n      'worklet';\n      if (adjustToInterfaceOrientation) {\n        if (sensorType === SensorType.ROTATION) {\n          data = adjustRotationToInterfaceOrientation(data as ValueRotation);\n        } else {\n          data = adjustVectorToInterfaceOrientation(data as Value3D);\n        }\n      }\n      sensorData.value = data;\n      callMicrotasks();\n    });\n\n    if (id !== -1) {\n      // if sensor is available\n      ref.current.unregister = () => unregisterSensor(id);\n      ref.current.isAvailable = true;\n    } else {\n      // if sensor is unavailable\n      ref.current.unregister = () => {\n        // NOOP\n      };\n      ref.current.isAvailable = false;\n    }\n\n    return () => {\n      ref.current.unregister();\n    };\n  }, [sensorType, config]);\n\n  return ref.current as AnimatedSensor<ValueRotation> | AnimatedSensor<Value3D>;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}