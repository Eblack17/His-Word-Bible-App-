{"ast":null,"code":"'use strict';\n\nvar _worklet_13609686028182_init_data = {\n  code: \"function valueSetter(mutable, value, forceUpdate = false) {\\n  const previousAnimation = mutable._animation;\\n  if (previousAnimation) {\\n    previousAnimation.cancelled = true;\\n    mutable._animation = null;\\n  }\\n  if (typeof value === 'function' || value !== null && typeof value === 'object' && value.onFrame !== undefined) {\\n    const animation = typeof value === 'function' ? value() : value;\\n    if (mutable._value === animation.current && !animation.isHigherOrder && !forceUpdate) {\\n      animation.callback && animation.callback(true);\\n      return;\\n    }\\n    const initializeAnimation = function (timestamp) {\\n      animation.onStart(animation, mutable.value, timestamp, previousAnimation);\\n    };\\n    const currentTimestamp = global.__frameTimestamp || global._getAnimationTimestamp();\\n    initializeAnimation(currentTimestamp);\\n    const step = function (newTimestamp) {\\n      const timestamp = newTimestamp < (animation.timestamp || 0) ? animation.timestamp : newTimestamp;\\n      if (animation.cancelled) {\\n        animation.callback && animation.callback(false);\\n        return;\\n      }\\n      const finished = animation.onFrame(animation, timestamp);\\n      animation.finished = true;\\n      animation.timestamp = timestamp;\\n      mutable._value = animation.current;\\n      if (finished) {\\n        animation.callback && animation.callback(true);\\n      } else {\\n        requestAnimationFrame(step);\\n      }\\n    };\\n    mutable._animation = animation;\\n    step(currentTimestamp);\\n  } else {\\n    if (mutable._value === value && !forceUpdate) {\\n      return;\\n    }\\n    mutable._value = value;\\n  }\\n}\",\n  location: \"d:\\\\CODING\\\\random\\\\12-13\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\valueSetter.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"valueSetter\\\",\\\"mutable\\\",\\\"value\\\",\\\"forceUpdate\\\",\\\"previousAnimation\\\",\\\"_animation\\\",\\\"cancelled\\\",\\\"onFrame\\\",\\\"undefined\\\",\\\"animation\\\",\\\"_value\\\",\\\"current\\\",\\\"isHigherOrder\\\",\\\"callback\\\",\\\"initializeAnimation\\\",\\\"timestamp\\\",\\\"onStart\\\",\\\"currentTimestamp\\\",\\\"global\\\",\\\"__frameTimestamp\\\",\\\"_getAnimationTimestamp\\\",\\\"step\\\",\\\"newTimestamp\\\",\\\"finished\\\",\\\"requestAnimationFrame\\\"],\\\"sources\\\":[\\\"d:/CODING/random/12-13/node_modules/react-native-reanimated/lib/module/valueSetter.js\\\"],\\\"mappings\\\":\\\"AAEO,SAAAA,WAASA,CAAYC,OAAA,EAAOC,KAAE,EAAKC,WAAE,GAAW,KAAG,EAAK;EAG7D,MAAMC,iBAAiB,GAAGH,OAAO,CAACI,UAAU;EAC5C,IAAID,iBAAiB,EAAE;IACrBA,iBAAiB,CAACE,SAAS,GAAG,IAAI;IAClCL,OAAO,CAACI,UAAU,GAAG,IAAI;EAC3B;EACA,IAAI,OAAOH,KAAK,KAAK,UAAU,IAAIA,KAAK,KAAK,IAAI,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAE9EA,KAAK,CAACK,OAAO,KAAKC,SAAS,EAAE;IAC3B,MAAMC,SAAS,GAAG,OAAOP,KAAK,KAAK,UAAU,GAE7CA,KAAK,CAAC,CAAC,GAEPA,KAAK;IAKL,IAAID,OAAO,CAACS,MAAM,KAAKD,SAAS,CAACE,OAAO,IAAI,CAACF,SAAS,CAACG,aAAa,IAAI,CAACT,WAAW,EAAE;MACpFM,SAAS,CAACI,QAAQ,IAAIJ,SAAS,CAACI,QAAQ,CAAC,IAAI,CAAC;MAC9C;IACF;IAEA,MAAMC,mBAAmB,GAAG,SAAAA,CAAAC,SAAS,EAAI;MACvCN,SAAS,CAACO,OAAO,CAACP,SAAS,EAAER,OAAO,CAACC,KAAK,EAAEa,SAAS,EAAEX,iBAAiB,CAAC;IAC3E,CAAC;IACD,MAAMa,gBAAgB,GAAGC,MAAM,CAACC,gBAAgB,IAAID,MAAM,CAACE,sBAAsB,CAAC,CAAC;IACnFN,mBAAmB,CAACG,gBAAgB,CAAC;IACrC,MAAMI,IAAI,GAAG,SAAAA,CAAAC,YAAY,EAAI;MAK3B,MAAMP,SAAS,GAAGO,YAAY,IAAIb,SAAS,CAACM,SAAS,IAAI,CAAC,CAAC,GAAGN,SAAS,CAACM,SAAS,GAAGO,YAAY;MAChG,IAAIb,SAAS,CAACH,SAAS,EAAE;QACvBG,SAAS,CAACI,QAAQ,IAAIJ,SAAS,CAACI,QAAQ,CAAC,KAAoB,CAAC;QAC9D;MACF;MACA,MAAMU,QAAQ,GAAGd,SAAS,CAACF,OAAO,CAACE,SAAS,EAAEM,SAAS,CAAC;MACxDN,SAAS,CAACc,QAAQ,GAAG,IAAI;MACzBd,SAAS,CAACM,SAAS,GAAGA,SAAS;MAI/Bd,OAAO,CAACS,MAAM,GAAGD,SAAS,CAACE,OAAO;MAClC,IAAIY,QAAQ,EAAE;QACZd,SAAS,CAACI,QAAQ,IAAIJ,SAAS,CAACI,QAAQ,CAAC,IAAmB,CAAC;MAC/D,CAAC,MAAM;QACLW,qBAAqB,CAACH,IAAI,CAAC;MAC7B;IACF,CAAC;IACDpB,OAAO,CAACI,UAAU,GAAGI,SAAS;IAC9BY,IAAI,CAACJ,gBAAgB,CAAC;EACxB,CAAC,MAAM;IAGL,IAAIhB,OAAO,CAACS,MAAM,KAAKR,KAAK,IAAI,CAACC,WAAW,EAAE;MAC5C;IACF;IACAF,OAAO,CAACS,MAAM,GAAGR,KAAK;EACxB;AACF\\\",\\\"ignoreList\\\":[]}\"\n};\nexport var valueSetter = function () {\n  var _e = [new global.Error(), 1, -27];\n  var _f = function _f(mutable, value) {\n    var forceUpdate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var previousAnimation = mutable._animation;\n    if (previousAnimation) {\n      previousAnimation.cancelled = true;\n      mutable._animation = null;\n    }\n    if (typeof value === 'function' || value !== null && typeof value === 'object' && value.onFrame !== undefined) {\n      var animation = typeof value === 'function' ? value() : value;\n      if (mutable._value === animation.current && !animation.isHigherOrder && !forceUpdate) {\n        animation.callback && animation.callback(true);\n        return;\n      }\n      var initializeAnimation = function initializeAnimation(timestamp) {\n        animation.onStart(animation, mutable.value, timestamp, previousAnimation);\n      };\n      var currentTimestamp = global.__frameTimestamp || global._getAnimationTimestamp();\n      initializeAnimation(currentTimestamp);\n      var _step = function step(newTimestamp) {\n        var timestamp = newTimestamp < (animation.timestamp || 0) ? animation.timestamp : newTimestamp;\n        if (animation.cancelled) {\n          animation.callback && animation.callback(false);\n          return;\n        }\n        var finished = animation.onFrame(animation, timestamp);\n        animation.finished = true;\n        animation.timestamp = timestamp;\n        mutable._value = animation.current;\n        if (finished) {\n          animation.callback && animation.callback(true);\n        } else {\n          requestAnimationFrame(_step);\n        }\n      };\n      mutable._animation = animation;\n      _step(currentTimestamp);\n    } else {\n      if (mutable._value === value && !forceUpdate) {\n        return;\n      }\n      mutable._value = value;\n    }\n  };\n  _f._closure = {};\n  _f.__initData = _worklet_13609686028182_init_data;\n  _f.__workletHash = 13609686028182;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.3.0\";\n  return _f;\n}();","map":{"version":3,"names":["_worklet_13609686028182_init_data","code","location","sourceMap","valueSetter","_e","global","Error","_f","mutable","value","forceUpdate","arguments","length","undefined","previousAnimation","_animation","cancelled","onFrame","animation","_value","current","isHigherOrder","callback","initializeAnimation","timestamp","onStart","currentTimestamp","__frameTimestamp","_getAnimationTimestamp","step","newTimestamp","finished","requestAnimationFrame","_closure","__initData","__workletHash","__stackDetails","__version"],"sources":["d:\\CODING\\random\\12-13\\node_modules\\react-native-reanimated\\src\\valueSetter.ts"],"sourcesContent":["'use strict';\nimport type { AnimationObject, Mutable } from './commonTypes';\n\nexport function valueSetter<Value>(\n  mutable: Mutable<Value>,\n  value: Value,\n  forceUpdate = false\n): void {\n  'worklet';\n  const previousAnimation = mutable._animation;\n  if (previousAnimation) {\n    previousAnimation.cancelled = true;\n    mutable._animation = null;\n  }\n  if (\n    typeof value === 'function' ||\n    (value !== null &&\n      typeof value === 'object' &&\n      // TODO TYPESCRIPT fix this after fixing AnimationObject type\n      (value as unknown as AnimationObject).onFrame !== undefined)\n  ) {\n    const animation: AnimationObject<Value> =\n      typeof value === 'function'\n        ? // TODO TYPESCRIPT fix this after fixing AnimationObject type\n          (value as () => AnimationObject<Value>)()\n        : // TODO TYPESCRIPT fix this after fixing AnimationObject type\n          (value as unknown as AnimationObject<Value>);\n    // prevent setting again to the same value\n    // and triggering the mappers that treat this value as an input\n    // this happens when the animation's target value(stored in animation.current until animation.onStart is called) is set to the same value as a current one(this._value)\n    // built in animations that are not higher order(withTiming, withSpring) hold target value in .current\n    if (\n      mutable._value === animation.current &&\n      !animation.isHigherOrder &&\n      !forceUpdate\n    ) {\n      animation.callback && animation.callback(true);\n      return;\n    }\n    // animated set\n    const initializeAnimation = (timestamp: number) => {\n      animation.onStart(animation, mutable.value, timestamp, previousAnimation);\n    };\n    const currentTimestamp =\n      global.__frameTimestamp || global._getAnimationTimestamp();\n    initializeAnimation(currentTimestamp);\n\n    const step = (newTimestamp: number) => {\n      // Function `requestAnimationFrame` adds callback to an array, all the callbacks are flushed with function `__flushAnimationFrame`\n      // Usually we flush them inside function `nativeRequestAnimationFrame` and then the given timestamp is the timestamp of end of the current frame.\n      // However function `__flushAnimationFrame` may also be called inside `registerEventHandler` - then we get actual timestamp which is earlier than the end of the frame.\n\n      const timestamp =\n        newTimestamp < (animation.timestamp || 0)\n          ? animation.timestamp\n          : newTimestamp;\n\n      if (animation.cancelled) {\n        animation.callback && animation.callback(false /* finished */);\n        return;\n      }\n      const finished = animation.onFrame(animation, timestamp);\n      animation.finished = true;\n      animation.timestamp = timestamp;\n      // TODO TYPESCRIPT\n      // For now I'll assume that `animation.current` is always defined\n      // but actually need to dive into animations to understand it\n      mutable._value = animation.current!;\n      if (finished) {\n        animation.callback && animation.callback(true /* finished */);\n      } else {\n        requestAnimationFrame(step);\n      }\n    };\n\n    mutable._animation = animation;\n\n    step(currentTimestamp);\n  } else {\n    // prevent setting again to the same value\n    // and triggering the mappers that treat this value as an input\n    if (mutable._value === value && !forceUpdate) {\n      return;\n    }\n    mutable._value = value;\n  }\n}\n"],"mappings":"AAAA,YAAY;;AAAA,IAAAA,iCAAA;EAAAC,IAAA;EAAAC,QAAA;EAAAC,SAAA;AAAA;AAGZ,WAAgBC,WAAW;EAAA,IAAAC,EAAA,QAAAC,MAAA,CAAAC,KAAA;EAAA,IAAAC,EAAA,YAAAA,GACzBC,OAAuB,EACvBC,KAAY,EAEN;IAAA,IADNC,WAAW,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IAGnB,IAAMG,iBAAiB,GAAGN,OAAO,CAACO,UAAU;IAC5C,IAAID,iBAAiB,EAAE;MACrBA,iBAAiB,CAACE,SAAS,GAAG,IAAI;MAClCR,OAAO,CAACO,UAAU,GAAG,IAAI;IAC3B;IACA,IACE,OAAON,KAAK,KAAK,UAAU,IAC1BA,KAAK,KAAK,IAAI,IACb,OAAOA,KAAK,KAAK,QAAQ,IAExBA,KAAK,CAAgCQ,OAAO,KAAKJ,SAAU,EAC9D;MACA,IAAMK,SAAiC,GACrC,OAAOT,KAAK,KAAK,UAAU,GAEtBA,KAAK,CAAkC,CAAC,GAExCA,KAA2C;MAKlD,IACED,OAAO,CAACW,MAAM,KAAKD,SAAS,CAACE,OAAO,IACpC,CAACF,SAAS,CAACG,aAAa,IACxB,CAACX,WAAW,EACZ;QACAQ,SAAS,CAACI,QAAQ,IAAIJ,SAAS,CAACI,QAAQ,CAAC,IAAI,CAAC;QAC9C;MACF;MAEA,IAAMC,mBAAmB,GAAI,SAAvBA,mBAAmBA,CAAIC,SAAiB,EAAK;QACjDN,SAAS,CAACO,OAAO,CAACP,SAAS,EAAEV,OAAO,CAACC,KAAK,EAAEe,SAAS,EAAEV,iBAAiB,CAAC;MAC3E,CAAC;MACD,IAAMY,gBAAgB,GACpBrB,MAAM,CAACsB,gBAAgB,IAAItB,MAAM,CAACuB,sBAAsB,CAAC,CAAC;MAC5DL,mBAAmB,CAACG,gBAAgB,CAAC;MAErC,IAAMG,KAAI,GAAI,SAARA,IAAIA,CAAIC,YAAoB,EAAK;QAKrC,IAAMN,SAAS,GACbM,YAAY,IAAIZ,SAAS,CAACM,SAAS,IAAI,CAAC,CAAC,GACrCN,SAAS,CAACM,SAAS,GACnBM,YAAY;QAElB,IAAIZ,SAAS,CAACF,SAAS,EAAE;UACvBE,SAAS,CAACI,QAAQ,IAAIJ,SAAS,CAACI,QAAQ,CAAC,KAAoB,CAAC;UAC9D;QACF;QACA,IAAMS,QAAQ,GAAGb,SAAS,CAACD,OAAO,CAACC,SAAS,EAAEM,SAAS,CAAC;QACxDN,SAAS,CAACa,QAAQ,GAAG,IAAI;QACzBb,SAAS,CAACM,SAAS,GAAGA,SAAS;QAI/BhB,OAAO,CAACW,MAAM,GAAGD,SAAS,CAACE,OAAQ;QACnC,IAAIW,QAAQ,EAAE;UACZb,SAAS,CAACI,QAAQ,IAAIJ,SAAS,CAACI,QAAQ,CAAC,IAAmB,CAAC;QAC/D,CAAC,MAAM;UACLU,qBAAqB,CAACH,KAAI,CAAC;QAC7B;MACF,CAAC;MAEDrB,OAAO,CAACO,UAAU,GAAGG,SAAS;MAE9BW,KAAI,CAACH,gBAAgB,CAAC;IACxB,CAAC,MAAM;MAGL,IAAIlB,OAAO,CAACW,MAAM,KAAKV,KAAK,IAAI,CAACC,WAAW,EAAE;QAC5C;MACF;MACAF,OAAO,CAACW,MAAM,GAAGV,KAAK;IACxB;EACF;EAAAF,EAAA,CAAA0B,QAAA;EAAA1B,EAAA,CAAA2B,UAAA,GAAAnC,iCAAA;EAAAQ,EAAA,CAAA4B,aAAA;EAAA5B,EAAA,CAAA6B,cAAA,GAAAhC,EAAA;EAAAG,EAAA,CAAA8B,SAAA;EAAA,OAAA9B,EAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}